{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"What's new","text":"<p>You know how sometimes you hit a wall while developing, and that starts a long quest through forums and documentation to find the right solution? I decided that I should probably start documenting some of those answers, so I don't have to slay the same dragon twice.</p>"},{"location":"#notes","title":"Notes","text":"<ul> <li>(2025-08-09) Rust</li> <li>(2025-06-30) Python</li> <li>(2024-12-18) Jupyter</li> <li>(2024-10-21) Git</li> <li>(2024-10-15) CLI tools</li> <li>(2024-08-07) Shell scripting</li> <li>(2024-08-07) Node.js &amp; TypeScript</li> <li>(2024-05-31) OAuth2</li> <li>(2024-03-21) Kubernetes</li> <li>(2024-01-25) OpenSSL/Certificates</li> <li>(2024-01-19) Docker</li> <li>(2024-01-05) Misc. Notes</li> <li>(2023-09-14) VS Code</li> <li>(2023-09-02) Obsidian</li> <li>(2023-01-27) AWS</li> <li>(2021-12-14) JSON/YAML</li> <li>(2020-06-07) Ubuntu in Hyper-V</li> <li>(2019-09-18) Examples of stored procedures/functions</li> <li>(2019-07-18) Maven</li> <li>(2018-08-27) Assembler</li> <li>(2018-02-01) CSS links</li> <li>(2018-01-16) MSSQL Cookbooks</li> <li>(2018-01-16) SSIS Notes</li> <li>(2017-12-04) GPG with Maven</li> <li>(2017-11-24) Tomcat HTTPS</li> <li>(2017-09-11) Virtual Angular developer environment with Vagrant</li> </ul>"},{"location":"#contact","title":"Contact","text":"<ul> <li>LinkedIn: mhvelplund</li> <li>GitHub: SwissArmyRonin &amp; mhvelplund</li> <li>Twitter/X: \ud83d\udeab (Friends don't let friends support Elon Musk.)</li> </ul>"},{"location":"DevOps/AWS/","title":"AWS Notes","text":"<p>This page contains a collection of unrelated notes pertaining to AWS.</p>"},{"location":"DevOps/AWS/#assume-role-script","title":"Assume-role script","text":"<p>Set the <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code>, or the <code>AWS_PROFILE</code> environment variables to the user that should assume a role. Set <code>ROLE_ARN</code> to the Arn of the role being assumed. Finally, create a \"command line\" build step.</p> <pre><code>export $(printf \"AWS_ACCESS_KEY_ID=%s AWS_SECRET_ACCESS_KEY=%s AWS_SESSION_TOKEN=%s\" \\\n    $(aws sts assume-role \\\n        --role-arn \"${ROLE_ARN}\" \\\n        --role-session-name \"${USER}\" \\\n        --query \"Credentials.[AccessKeyId,SecretAccessKey,SessionToken]\" \\\n        --output text))\n</code></pre>"},{"location":"DevOps/AWS/#bulk-log-retention-update-in-powershell","title":"Bulk log retention update in Powershell","text":"<p>This sets log retention to 1 day for all Airship lambdas.</p> <pre><code>$logGroups=(aws logs describe-log-groups --log-group-name-prefix \"/aws/lambda\" --query \"logGroups[*].logGroupName\" --output=text).Split() `\n    | where {$_ -match 'lambda-lookup'} \nforeach ($logGroupName in $logGroups) {\n    aws logs put-retention-policy --log-group-name $logGroupName --retention-in-days 1\n}\n</code></pre>"},{"location":"DevOps/AWS/#ecs-on-spot-instances","title":"ECS on spot instances","text":"<ul> <li>Docker, Amazon ECS, and Spot Fleets: A Great Fit Together</li> <li>Auto Scaling Groups with Multiple Instance Types and Purchase Options</li> <li>Launching Spot Instances in Your Auto Scaling Group</li> <li>Terraform <code>mixed_instances_policy</code> for <code>aws_autoscaling_group</code></li> <li>ECS Spot Fleet Demo (with drain script userdata)</li> </ul>"},{"location":"DevOps/AWS/#teamcity-aws-assume-role","title":"Teamcity AWS assume role","text":"<p>Set the <code>AWS_ACCESS_KEY_ID</code> and <code>AWS_SECRET_ACCESS_KEY</code> environment variables to the user that should assume a role. Set <code>ROLE_ARN</code> to the Arn of the role being assumed. Finally, create a \"command line\" build step that runs in the \"alpine:latest\" Docker container.</p> <pre><code>apk add jq\nCREDENTIALS=$(aws sts assume-role --role-arn $ROLE_ARN --role-session-name teamcity  --duration-seconds 900)\nmkdir - ~/.aws\necho \"##teamcity[setParameter name='AWS_ACCESS_KEY_ID' value='$(echo $CREDENTIALS | jq -r .Credentials.AccessKeyId)']\"\necho \"##teamcity[setParameter name='AWS_SECRET_ACCESS_KEY' value='$(echo $CREDENTIALS | jq -r .Credentials.SecretAccessKey)']\"\necho \"##teamcity[setParameter name='AWS_SESSION_TOKEN' value='$(echo $CREDENTIALS | jq -r .Credentials.SessionToken)']\"\n</code></pre>"},{"location":"DevOps/AWS/#cross-account-roles","title":"Cross account roles","text":"<p>Example: https://jackiechen.org/2015/11/03/ec2-instance-cannot-assume-role-in-other-accounts/</p>"},{"location":"DevOps/AWS/#ec2-instance-metadata","title":"EC2 instance metadata","text":"<p>Get metadata list:</p> <pre><code>$ wget -q -O- http://169.254.169.254/latest/meta-data\nami-id\nami-launch-index\nami-manifest-path\nblock-device-mapping/\nhostname\niam/\ninstance-action\ninstance-id\ninstance-type\nlocal-hostname\nlocal-ipv4\nmac\nmetrics/\nnetwork/\nplacement/\nprofile\npublic-keys/\nreservation-id\nsecurity-groups\nservices/\n</code></pre> <p>Get specific metadata, e.g <code>instance-id</code>:</p> <pre><code>$ wget -q -O- http://169.254.169.254/latest/meta-data/instance-id\ni-08820e8f284ffa01a\n</code></pre> <p>Source: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html</p>"},{"location":"DevOps/AWS/#lambda","title":"Lambda","text":"<ul> <li>Deployment management: Apex</li> </ul>"},{"location":"DevOps/BashScripting/","title":"Shell scripting","text":""},{"location":"DevOps/BashScripting/#shell-utilities","title":"Shell utilities","text":"<ul> <li>fzf: Fuzzy find.</li> <li>fd: User-friendly <code>find</code>.</li> <li>rg: RipGrep.</li> <li>bat: Syntax highlight <code>cat</code>.</li> </ul>"},{"location":"DevOps/BashScripting/#fzf-friends","title":"FZF &amp; friends","text":"<ul> <li>4 Useful fzf Tricks for Your Terminal</li> <li>Find anything you need with fzf, the Linux fuzzy finder tool</li> </ul> Install components<pre><code>sudo apt install bat fd-find\n</code></pre> Add to .bashrc<pre><code>export FZF_DEFAULT_COMMAND=\"fdfind --type f\"\nsource /usr/share/doc/fzf/examples/completion.bash\n</code></pre> <p>Now <code>ctrl-r</code> will use fzf to search through your history, and <code>ctrl-t</code> will open a file finder in the shell with preview. <code>alt-c</code> will open a directory browser, but the shortcut might conflict with a short cut in VS Code, which will need to be deleted.</p>"},{"location":"DevOps/BashScripting/#fancy-fish-like-bash","title":"Fancy Fish-like Bash","text":"<p>Install <code>ble.sh</code>:</p> <pre><code>git clone --recursive https://github.com/akinomyoga/ble.sh.git\nmake -C ble.sh\nsource ble.sh/out/ble.sh\n</code></pre>"},{"location":"DevOps/BashScripting/#whats-hogging-the-port","title":"What's hogging the port?","text":"<p>ss  -lptn 'sport = :9080'</p>"},{"location":"DevOps/BashScripting/#parse-parameters","title":"Parse parameters","text":"<p>Source: Using getopts to process long and short command line options</p> <pre><code># NOTE: This requires GNU getopt.  On Mac OS X and FreeBSD, you have to install this\n# separately; see below.\nTEMP=$(getopt -o vdm: --long verbose,debug,memory:,debugfile:,minheap:,maxheap: \\\n              -n 'javawrap' -- \"$@\")\n\nif [ $? != 0 ] ; then echo \"Terminating...\" &gt;&amp;2 ; exit 1 ; fi\n\n# Note the quotes around '$TEMP': they are essential!\neval set -- \"$TEMP\"\n\nVERBOSE=false\nDEBUG=false\nMEMORY=\nDEBUGFILE=\nJAVA_MISC_OPT=\nwhile true; do\n  case \"$1\" in\n    -v | --verbose ) VERBOSE=true; shift ;;\n    -d | --debug ) DEBUG=true; shift ;;\n    -m | --memory ) MEMORY=\"$2\"; shift 2 ;;\n    --debugfile ) DEBUGFILE=\"$2\"; shift 2 ;;\n    --minheap )\n      JAVA_MISC_OPT=\"$JAVA_MISC_OPT -XX:MinHeapFreeRatio=$2\"; shift 2 ;;\n    --maxheap )\n      JAVA_MISC_OPT=\"$JAVA_MISC_OPT -XX:MaxHeapFreeRatio=$2\"; shift 2 ;;\n    -- ) shift; break ;;\n    * ) break ;;\n  esac\ndone\n</code></pre>"},{"location":"DevOps/BashScripting/#beep-when-done","title":"Beep when done","text":"<pre><code>./run_long.sh; echo -e \"\\a\"\n</code></pre>"},{"location":"DevOps/BashScripting/#bash-strict-mode","title":"Bash Strict Mode","text":"<p>Unofficial Strict Mode</p>"},{"location":"DevOps/BashScripting/#working-with-processes","title":"Working with processes","text":"<p>Check if a process is running:</p> <pre><code>ps -p $PID &gt;&amp;-\n</code></pre> <p>... returns 0 if the process id exists, and 1 otherwise</p> <ul> <li><code>$!</code> the PID of the last background job run</li> <li><code>$?</code> the return code of the last job that finished</li> <li><code>wait $PID</code> blocks until the task completes</li> </ul>"},{"location":"DevOps/BashScripting/#echo-multiline-string","title":"Echo multiline string","text":"<p>The example creates a small executable script that dumps the contents of the root dir.</p> <pre><code>cat &lt;&lt;EOL &gt; listroot.sh\n#!/bin/bash\nls -lA /\nEOL\nchmod +x listroot.sh\n</code></pre>"},{"location":"DevOps/CLI/","title":"CLI tools","text":"<ul> <li>bat: A cat(1) clone with wings</li> <li>fd: A simple, fast and user-friendly alternative to 'find'</li> <li>fzf: A command-line fuzzy finder</li> <li>poppler: Poppler is a PDF rendering library based on the xpdf-3.0 code base</li> <li>rg: Ripgrep recursively searches directories for a regex pattern while respecting your gitignore</li> <li> <p>yazi: Blazing fast terminal file manager written in Rust, based on async I/O</p> <ul> <li>To enable image preview in VS Code, add the following to settings:</li> </ul> <p><pre><code>\"terminal.integrated.enableImages\": true\n</code></pre> * For other shells, check https://www.arewesixelyet.com/</p> </li> </ul>"},{"location":"DevOps/Docker/","title":"Docker","text":""},{"location":"DevOps/Docker/#see-run-command","title":"See run command","text":"<p>Use <code>runlike</code>:</p> <pre><code>$ pip install runlike\n$ docker ps | head -2\nCONTAINER ID   IMAGE          COMMAND     CREATED      STATUS                  PORTS   NAMES\n4ae8ac018784   bb4c3d7ef7cb   \"/bin/sh\"   7 days ago   Up 7 days (unhealthy)           frosty_visvesvaraya\n$ runlike 4ae8ac018784\ndocker run --name=frosty_visvesvaraya --hostname=4ae8ac018784 --mac-address=02:42:ac:...\n</code></pre>"},{"location":"DevOps/Docker/#dive","title":"Dive","text":"<p>Dive: A tool for exploring each layer in a docker image.</p>"},{"location":"DevOps/Docker/#gui-apps","title":"GUI apps","text":"<p>Source: https://www.trickster.dev/post/running-gui-apps-within-docker-containers/</p> <p>Create <code>Dockerfile</code>:</p> <pre><code>FROM ubuntu:latest\nRUN apt-get update &amp;&amp; apt-get install -y libxext-dev libxrender-dev libxtst-dev firefox\nCMD firefox \n</code></pre> <p>Create <code>docker-compose.yml</code>:</p> <pre><code>version: '2'\nservices:\n  firefox:\n    build: .\n    environment: [ \"DISPLAY=novnc:0\" ]\n    depends_on: [ \"novnc\" ]\n    networks: [ \"x11\" ]\n  novnc:\n    image: theasp/novnc:latest\n    environment:\n      - DISPLAY_WIDTH=1600\n      - DISPLAY_HEIGHT=968\n      - RUN_XTERM=no\n    ports: [ \"8080:8080\" ]\n    networks: [ \"x11\" ]\nnetworks:\n  x11:\n</code></pre> <p>Run:</p> <pre><code>docker-compose up -d\n</code></pre> <p>Open http://localhost:8080/vnc_auto.html</p>"},{"location":"DevOps/Docker/#run-a-rust-command","title":"Run a rust command","text":"<p>The parameter <code>--user \"$(id -u)\":\"$(id -g)\"</code> makes the current user the owner of the generated artifacts, avoiding <code>root</code> as owner.</p> <pre><code>LAMBDA_ARCH=\"linux/arm64\" # set this to either linux/arm64 for ARM functions, or linux/amd64 for x86 functions.\nRUST_TARGET=\"aarch64-unknown-linux-gnu\" # corresponding with the above, set this to aarch64 or x86_64 -unknown-linux-gnu for ARM or x86 functions.\nRUST_VERSION=\"latest\" # Set this to a specific version of rust you want to compile for, or to latest if you want the latest stable version.\ndocker run \\\n  --platform ${LAMBDA_ARCH} \\\n  --rm --user \"$(id -u)\":\"$(id -g)\" \\\n  -v \"${PWD}\":/usr/src/myapp -w /usr/src/myapp rust:${RUST_VERSION} \\\n  cargo build -p lambda_runtime --example basic --release --target ${RUST_TARGET} # This line can be any cargo command\n</code></pre>"},{"location":"DevOps/Docker/#extract-dockerfile","title":"Extract Dockerfile","text":"<p>Generate a good starting point for a Dcokerfile.</p> <pre><code>docker history --no-trunc --format '{{.CreatedBy}}' qemu | grep -v '#(nop)' | tac\n</code></pre>"},{"location":"Miscellaneous/Asn1/","title":"ASN.1 links","text":"<ul> <li>ASN.1 Made Simple \u2014 What is ASN.1?</li> <li>ASN.1 Reference Card</li> <li>ASN.1 Books and Publications</li> <li>Apache Harmony (RETIRED)</li> </ul>"},{"location":"Miscellaneous/Certificates/","title":"OpenSSL","text":""},{"location":"Miscellaneous/Certificates/#verify-a-remote-certicate","title":"Verify a remote certicate","text":"<p>Create a function:</p> <pre><code>verify_ssl() {\n    local host=${1:?Please provide a host to verify}\n    openssl verify -text &lt;(openssl s_client -connect \"${host}:443\")\n}\n</code></pre> <p>Now verify SSL certs with:</p> <pre><code>\n</code></pre>"},{"location":"Miscellaneous/Certificates/#get-remote-certificate","title":"Get remote certificate","text":"<pre><code>HOST=\"www.dr.dk\"\necho -n | openssl s_client -showcerts -connect $HOST:${PORTNUMBER:-443}\n</code></pre>"},{"location":"Miscellaneous/Certificates/#add-new-ca-trust","title":"Add new CA trust","text":"<p>Works on Amazon Linux:</p> <pre><code>cp swissarmyronin.crt /etc/pki/ca-trust/source/anchors/.\nupdate-ca-trust extract\n</code></pre> <p>For more info: <code>man update-ca-trust</code>.</p>"},{"location":"Miscellaneous/Certificates/#create-a-signed-certificate","title":"Create a signed certificate","text":"<pre><code>## Create keys\nopenssl req -newkey rsa:2048 -nodes -keyout key.pem -x509 -days 3650\n\n## Create CSR\nopenssl req -new -sha256 -key key.pem -out certificate.csr\n\n## ... get the CSR signed ...\n\n## Download signed certificate.pem and verify it\nopenssl x509 -text -noout -in certificate.pem\n\n## Combine private key with signed public key\nopenssl pkcs12 -inkey key.pem -in certificate.pem -export -out certificate.p12 -name tomcat\n</code></pre>"},{"location":"Miscellaneous/Certificates/#create-an-self-signed-certificate","title":"Create an self-signed certificate","text":"<pre><code>## Create keys\nopenssl req -newkey rsa:2048 -nodes -keyout key.pem -x509 -days 3650 -out certificate.pem\n\n## Verify the certificate        \nopenssl x509 -text -noout -in certificate.pem\n\n## Combine private and public key\nopenssl pkcs12 -inkey key.pem -in certificate.pem -export -out certificate.p12 -name tomcat\n</code></pre>"},{"location":"Miscellaneous/Certificates/#significance-of-name","title":"Significance of \"name\"","text":"<p>\"-name tomcat\" sets the alias of the key in the p12 keystore\u00b4. This is needed to reference the key from Tomcat's connector configuration.</p>"},{"location":"Miscellaneous/Certificates/#misc","title":"Misc","text":"<p>If running openssl on Windows it sometimes freezes during the last step. If that happens, prefix the command with \"winpty\", eg:</p> <pre><code>winpty openssl pkcs12 -inkey key.pem -in certificate.pem -export -out certificate.p12 -name tomcat\n</code></pre>"},{"location":"Miscellaneous/Certificates/#troubleshooting","title":"Troubleshooting","text":"<pre><code>openssl s_client -connect localhost:8443 -tls1\nopenssl s_client -connect localhost:8443 -tls1_1\nopenssl s_client -connect localhost:8443 -tls1_2\n</code></pre>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/","title":"Converting an existing VM to Vagrant","text":"<p>Note: This is based off the article \"Convert a VirtualBox .ova VM into a Vagrant box\".</p> <p>The task: I have an existing VM that was not created from a Vagrant base box. I want to turn it into a base box.</p> <p>My base is an OVA file created by a colleague called <code>RenovaWin10_20170907.ova</code>. First I import it into VirtualBox, overriding some of its hardware settings in the process (this takes about 10 minutes). The image has Virtual Box guest additions, but no SSH keys or Vagrant user account.</p> <pre><code>$ VBoxManage import ../Downloads/RenovaWin10_20170907.ova --vsys 0 \\\n    --eula accept --ostype Windows10_64 --vmname RenovaWin10 --cpus 1 \\\n    --memory 4096\n</code></pre>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#prep-for-packaging","title":"Prep for packaging","text":"<p>I need to prep the image with the requirements for a Vagrant box (Creating a Base Box):</p> <ul> <li>VirtualBox Guest Additions: these are already installed, but otherwise they are easy to add (VirtualBox Guest Additions)</li> <li>\"vagrant\" user</li> <li>Admin account</li> <li>Turn off UAC</li> <li>Disable complex passwords</li> <li>WinRM configuration</li> </ul>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#vagrant-user","title":"Vagrant user","text":"<p>TODO: \"vagrant\" user with insecure key https://github.com/hashicorp/vagrant/blob/master/keys/vagrant.pub</p>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#admin-account","title":"Admin account","text":"<p>\"vagrant\" pw for admin account</p>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#turn-off-uac","title":"Turn off UAC","text":"<p>Turn off UAC https://articulate.com/support/article/how-to-turn-user-account-control-on-or-off-in-windows-10</p> <p>also</p> <pre><code>reg add HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System /v EnableLUA /d 0 /t REG_DWORD /f /reg:64\n</code></pre>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#disable-complex-passwords","title":"Disable complex passwords","text":"<p>https://www.askvg.com/how-to-disable-password-complexity-requirements-in-windows-server-2003-and-2008/</p>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#winrm-configuration","title":"WinRM configuration","text":"<pre><code>winrm quickconfig -q\nwinrm set winrm/config/winrs @{MaxMemoryPerShellMB=\"512\"}\nwinrm set winrm/config @{MaxTimeoutms=\"1800000\"}\nwinrm set winrm/config/service @{AllowUnencrypted=\"true\"}\nwinrm set winrm/config/service/auth @{Basic=\"true\"}\nsc config WinRM start= auto\n</code></pre>"},{"location":"Miscellaneous/ConvertingAnExistingVMToVagrant/#packaging","title":"Packaging","text":"<p>Next step is finding the UUID of the VM.</p> <pre><code>$ VBoxManage list vms\n  \"RenovaWin10\" {13b69d0a-bbf4-4f21-971c-5813c8037543}\n</code></pre> <p>From here I export the VM to a box.</p> <pre><code>$ vagrant package --base 13b69d0a-bbf4-4f21-971c-5813c8037543 --output RenovaWin10.box\n  ==&gt; 13b69d0a-bbf4-4f21-971c-5813c8037543: Exporting VM...\n  ==&gt; 13b69d0a-bbf4-4f21-971c-5813c8037543: Compressing package to: /Users/mhv/Vagrant/RenovaWin10.box\n</code></pre> <p>This took more than an hour for a 60 gb image, and I left work before it was done. The process also required a lot of space. Something like twice the size of the OVA file.</p> <p>Since space was becoming an issue, i deleted the original OVA file. When you run <code>vagrant up</code>, the box file is copied to the local Vagrant cache, so I actually had to move the new box to a network share. Painful, since I then had to wait for it to be copied back later.</p> <p>Now I can test the box.</p> <pre><code>$ mkdir RenovaWin10 &amp;&amp; cd RenovaWin10\n$ vagrant init RenovaWin10 /Volumes/MHV/RenovaWin10.box\n$ vagrant up\n\n$ vagrant up\n  Bringing machine 'default' up with 'virtualbox' provider...\n  ==&gt; default: Box 'RenovaWin10' could not be found. Attempting to find and install...\n      default: Box Provider: virtualbox\n      default: Box Version: &gt;= 0\n  ==&gt; default: Box file was not detected as metadata. Adding it directly...\n  ==&gt; default: Adding box 'RenovaWin10' (v0) for provider: virtualbox\n      default: Unpacking necessary files from: file:///Volumes/MHV/RenovaWin10.box\n  ==&gt; default: Successfully added box 'RenovaWin10' (v0) for 'virtualbox'!\n  ==&gt; default: Importing base box 'RenovaWin10'...\n  ==&gt; default: Matching MAC address for NAT networking...\n  ==&gt; default: Setting the name of the VM: renova_default_1506063597308_48918\n  ==&gt; default: Clearing any previously set network interfaces...\n  ==&gt; default: Preparing network interfaces based on configuration...\n      default: Adapter 1: nat\n  ==&gt; default: Forwarding ports...\n      default: 22 (guest) =&gt; 2222 (host) (adapter 1)\n  ==&gt; default: Booting VM...\n  ==&gt; default: Waiting for machine to boot. This may take a few minutes...\n      default: SSH address: 127.0.0.1:2222\n      default: SSH username: vagrant\n      default: SSH auth method: private key\n  Timed out while waiting for the machine to boot. This means that\n  Vagrant was unable to communicate with the guest machine within\n  the configured (\"config.vm.boot_timeout\" value) time period.\n\n  If you look above, you should be able to see the error(s) that\n  Vagrant had when attempting to connect to the machine. These errors\n  are usually good hints as to what may be wrong.\n\n  If you're using a custom box, make sure that networking is properly\n  working and you're able to connect to the machine. It is a common\n  problem that networking isn't setup properly in these boxes.\n  Verify that authentication configurations are also setup properly,\n  as well.\n\n  If the box appears to be booting properly, you may want to increase\n  the timeout (\"config.vm.boot_timeout\") value.\n</code></pre> <p>As mentioned, this copies the box image to Vagrant's cache and starts unpacking it. This also adds a box definition so I can do <code>vagrant init RenovaWin10</code> later, without the URL.</p> <p>Unfortunately, \"<code>vagrant up</code>\" stalls here, because there is no SSH key and vagrant account. But the machine is up.</p>"},{"location":"Miscellaneous/CoolCSSLinks/","title":"Lots of CSS effects","text":"<p>https://www.rankred.com/amazing-css3-effects/</p>"},{"location":"Miscellaneous/Git/","title":"Git","text":""},{"location":"Miscellaneous/Git/#move-files-from-one-repository-to-another-preserving-git-history","title":"Move files from one repository to another, preserving git history","text":"<p>Based on Ayushya Jaiswal's excellent article on Move files from one repository to another, preserving git history.</p> <p>In the example below, we want to extract a folder (<code>code/src/utils</code>) from a mono-repo (<code>repo1</code>) into its own repo (<code>repo2</code>),  preserving the git history.</p> <pre><code>git clone git@github.com:example/test.git repo1\ngit clone git@github.com:example/test.git repo2\ncd repo2\ngit remote rm origin\ngit filter-branch --subdirectory-filter code/src/utils -- --all\ngit reset --hard\ngit gc --aggressive \ngit prune\ngit clean -xfd\n</code></pre> <p>Now only the filtered folder is left, and it's at the root of repo2. If it's going into another repo with existing files, we can move the things to a sub-folder and commit them before proceeding, but in this case we want them in the root.</p> <p>Next, we push them to the new remote repo (which was created ahead of time and left empty):</p> <pre><code>git remote add origin git@github.com:example/test-extrusion.git\ngit branch -M main\ngit push -u origin main\n</code></pre> <p>Finally, we should clean up the old repo:</p> <pre><code>cd ../repo1\nrm -rf code/src/utils\ngit add -A\ngit commit\n</code></pre> <p>Obviously, there might be more refactoring needed, but this is the basic idea.</p>"},{"location":"Miscellaneous/Git/#summarize-changes","title":"Summarize changes","text":"<pre><code>git diff @{2023-09-10}.. -- docs/src\ngit whatchanged --since=\"last Sunday\" -p -- docs/src\n</code></pre>"},{"location":"Miscellaneous/Git/#find-big-files","title":"Find big files","text":"<p>Find out if large binary files are lurking in the history. Lists all blobs with commit by ascending size:</p> <pre><code>git rev-list --objects --all |\n  git cat-file --batch-check='%(objecttype) %(objectname) %(objectsize) %(rest)' |\n  sed -n 's/^blob //p' |\n  sort --numeric-sort --key=2 |\n  cut -c 1-12,41- |\n  $(command -v gnumfmt || echo numfmt) --field=2 --to=iec-i --suffix=B --padding=7 -- \\\n  round=nearest\n</code></pre> <p>Src: https://stackoverflow.com/a/42544963/511976</p> <p>Delete them with <code>git-filter-repo</code> (src: https://stackoverflow.com/a/61602985/511976).</p>"},{"location":"Miscellaneous/Git/#git-helpers","title":"Git helpers","text":"<p>UI: github.com/mhvelplund/git-bash.</p> <p>Credentials: Storing Git Credentials with Git Credential Helper</p>"},{"location":"Miscellaneous/Git/#move-a-feature-branch-from-one-product-to-another","title":"Move a feature branch from one product to another","text":"<p>If, by accident, one has created a feature <code>foo</code> from the wrong product version branch (eg.: <code>tmtand-3.1/develop</code>) and it really should have started from another product version branch (eg.: <code>tmtand-3.2/develop</code>)), then it's easy to rebase the feature on the proper product version with:</p> <pre><code>git rebase --onto target-branch source-branch\n</code></pre> <p>So in the case above, that would be:</p> <pre><code>git checkout tmtand-3.1/feature/foo\ngit rebase --onto tmtand-3.2/develop tmtand-3.1/develop\n</code></pre>"},{"location":"Miscellaneous/Git/#working-with-multiple-git-repositories","title":"Working with multiple git repositories","text":"<p>If your product consists of specific versions across multiple repositories, there are multiple options for managing that. I prefer Gitslave or <code>gits</code>.</p>"},{"location":"Miscellaneous/Git/#temp-git-ignore","title":"Temp. Git ignore","text":"<p>So, to temporarily ignore changes in a certain file, run:</p> <pre><code>git update-index --assume-unchanged &lt;file&gt;\n</code></pre> <p>Then when you want to track changes again:</p> <pre><code>git update-index --no-assume-unchanged &lt;file&gt;\n</code></pre>"},{"location":"Miscellaneous/Gpg-maven/","title":"GPG with Maven","text":"<p>To sign Maven artifacts add the following to the POM;</p> <pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.5&lt;/version&gt;\n    &lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;sign-artifacts&lt;/id&gt;\n        &lt;phase&gt;verify&lt;/phase&gt;\n        &lt;goals&gt;\n        &lt;goal&gt;sign&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre> <p>The passphrase for the default key should go in a property in the POM, or preferably, in the \"~/.m2/settings.xml\" file.</p> <pre><code>...\n&lt;properties&gt;\n  &lt;gpg.passphrase&gt;secretpassword&lt;/gpg.passphrase&gt;\n&lt;/properties&gt;\n...\n</code></pre> <p>This signs using the default local key, and uses the \"gpg\"-command for signing. There are more options in the documentation.</p>"},{"location":"Miscellaneous/Gpg-maven/#troubleshooting","title":"Troubleshooting","text":"<p>Signing can fail with the message:</p> <pre><code>gpg: signing failed: Inappropriate ioctl for device\n</code></pre> <p>This is because the local GPG install wants to ask for the userpassword with a popup. Override by executing:</p> <pre><code>export GPG_TTY=$(tty)\n</code></pre>"},{"location":"Miscellaneous/Gpg-maven/#gpg-cheat-sheet","title":"GPG cheat sheet","text":"<p>There is a nice GPG cheatsheet here.</p>"},{"location":"Miscellaneous/JsonYaml/","title":"JSON/YAML","text":"<p>Modifying JSON in-line with jq</p> <p>Extra features in YAML</p>"},{"location":"Miscellaneous/JsonYaml/#making-a-custom-schema","title":"Making a custom schema","text":"<pre><code>npm install -g json-schema-generator\njson-schema-generator --pretty env-config.json -o schema.json\n</code></pre>"},{"location":"Miscellaneous/Kubernetes/","title":"Kubernetes","text":""},{"location":"Miscellaneous/Kubernetes/#use-a-shared-oauth2-proxy-for-multiple-ingresses","title":"Use a shared OAuth2 proxy for multiple ingresses","text":"<p>https://www.callumpember.com/Kubernetes-A-Single-OAuth2-Proxy-For-Multiple-Ingresses/</p>"},{"location":"Miscellaneous/Maven/","title":"Maven","text":""},{"location":"Miscellaneous/Maven/#update-all-pom-versions-in-a-repo","title":"Update all pom versions in a repo","text":"<pre><code>mvn versions:set -DnewVersion=1.4-SNAPSHOT\n</code></pre>"},{"location":"Miscellaneous/Maven/#maven-release-with-local-deploy","title":"Maven release with local deploy","text":"<p>Deploy to the local directory <code>./dist</code>:</p> <pre><code>mvn deploy -DaltDeploymentRepository=repo::default::file:dist\n</code></pre> <p>Release and deploy to the local directory <code>./dist</code>:</p> <pre><code>mvn release:prepare\nmvn release:perform -Darguments=-DaltDeploymentRepository=repo::default::file:dist\n</code></pre>"},{"location":"Miscellaneous/Maven/#maven-repo-on-github","title":"Maven repo on GitHub","text":"<p>Hosting maven repos on GitHub</p>"},{"location":"Miscellaneous/Maven/#maven-master-password","title":"Maven master password","text":"<p>To configure encrypted passwords, create a master password by running mvn -emp or mvn --encrypt-master-password followed by your master password.</p> <pre><code>$ mvn -emp mypassword\n{rsB56BJcqoEHZqEZ0R1VR4TIspmODx1Ln8/PVvsgaGw=}\n</code></pre> <p>Maven prints out an encrypted copy of the password to standard out. Copy this encrypted password and paste it into a ~/.m2/settings-security.xml file.</p> <pre><code>&lt;settingsSecurity&gt;\n  &lt;master&gt;{rsB56BJcqoEHZqEZ0R1VR4TIspmODx1Ln8/PVvsgaGw=}&lt;/master&gt;\n&lt;/settingsSecurity&gt;\n</code></pre> <p>After you have created a master password, you can then encrypt passwords for use in your Maven Settings. To encrypt a password with the master password, run mvn -ep or mvn --encrypt-password. Assume that you have a repository manager and you need to send a username of \"deployment\" and a password of \"qualityFIRST\". To encrypt this particular password, you would run the following command:</p> <pre><code>$ mvn -ep qualityFIRST\n{uMrbEOEf/VQHnc0W2X49Qab75j9LSTwiM3mg2LCrOzI=}\n</code></pre> <p>At this point, copy the encrypted password printed from the output of mvn -ep and paste it into your Maven Settings.</p> <pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;username&gt;deployment&lt;/username&gt;\n&lt;password&gt;{uMrbEOEf/VQHnc0W2X49Qab75j9LSTwiM3mg2LCrOzI=}&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n  ...\n&lt;/settings&gt;\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/","title":"Misc. Notes","text":"<p>This page contains a collection of unrelated notes pertaining to issues I have Googled more than once.</p>"},{"location":"Miscellaneous/MiscNotes/#start-a-process-as-a-different-user-in-windows","title":"Start a process as a different user in Windows","text":"<p>In PowerShell:</p> <pre><code>Start-Process -FilePath \"${env:ProgramFiles(x86)}\\Google\\Chrome\\Application\\chrome.exe\" -Credential (Get-Credential)\n</code></pre> <p>Directly from a link, i.e. with the default CMD shell:</p> <pre><code>%windir%\\System32\\runas.exe /profile /u:domain\\user \"%programfiles(x86)%\\Microsoft\\Edge\\Application\\msedge.exe\"\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#god-mode","title":"\"God mode\"","text":"<p>In Windows, create a folder on the desktop and rename it to:</p> <pre><code>GodMode.{ED7BA470-8E54-465E-825C-99712043E01C}\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#recommend-vs-code-plugin","title":"Recommend VS Code plugin","text":"<p>Create a file <code>.vscode/extensions.json</code> with a recommendation array of extension ids, e.g.:</p> <pre><code>{\n \"recommendations\": [\"ms-vscode.csharp\", \"ms-mssql.mssql\"]\n}\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#terraform-docs-for-012","title":"Terraform docs for 0.12+","text":"<pre><code>docker run --rm \\\n  -v $(pwd):/data \\\n  cytopia/terraform-docs \\\n  terraform-docs-012 --sort-inputs-by-required --with-aggregate-type-defaults md . &gt; README.md\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#decompiler-plugin-java","title":"Decompiler plugin Java","text":"<p>Mchr3k - JDEclipse-Realign</p>"},{"location":"Miscellaneous/MiscNotes/#run-command-as-admin","title":"Run command as admin","text":"<p>To run a command as admin without the mouse:</p> <ul> <li><code>Win-R</code> to open file dialog</li> <li>type command name and run with <code>Ctrl-Shift-Enter</code></li> </ul>"},{"location":"Miscellaneous/MiscNotes/#export-an-existing-environment-to-terraform","title":"Export an existing environment to Terraform","text":"<pre><code>docker run --rm -iv \"${PWD}\":/outputs cycloid/terracognita aws --tfstate /outputs/terraform.tfstate \\\n  --access-key $AWS_ACCESS_KEY_ID --secret-key $AWS_SECRET_ACCESS_KEY --region eu-west-1 --hcl /outputs/main.tf\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#260-character-path-length-restriction","title":"260 character path length restriction","text":"<p>To remove path length restriction in Windows 10 anniversary edition, run:</p> <pre><code>REG ADD HKLM\\SYSTEM\\CurrentControlSet\\Control\\FileSystem /v LongPathsEnabled /t REG_DWORD /d 1\n</code></pre> <p>Can break old 32 bit apps.</p>"},{"location":"Miscellaneous/MiscNotes/#github","title":"GitHub","text":"<ul> <li>License overview: https://help.github.com/articles/licensing-a-repository/</li> </ul>"},{"location":"Miscellaneous/MiscNotes/#free-smime-certificates","title":"Free S/MIME certificates","text":"<p>Actalis provides free S/MIME certifcates for non-commercial use.</p>"},{"location":"Miscellaneous/MiscNotes/#allow-changing-the-password-on-first-login-via-rdp","title":"Allow changing the password on first login via RDP","text":"<p>Add a line to the RDP file with the text (or change the existing one):</p> <pre><code>enablecredsspsupport:i:0\n</code></pre> <p>Afterwards, delete the line again. Technet has a good explanation.</p>"},{"location":"Miscellaneous/MiscNotes/#removing-bloat-ware-from-a-new-windows-machine","title":"Removing bloat ware from a new Windows machine","text":"<p>Removing bloat ware from a new Windows machine</p>"},{"location":"Miscellaneous/MiscNotes/#turn-a-jar-file-into-an-executable","title":"Turn a JAR file into an executable","text":"<p>Download JSmooth. Only works if <code>JAVA_HOME</code> is set to a working JRE.</p>"},{"location":"Miscellaneous/MiscNotes/#securityexception-on-binaries-running-from-a-network-share","title":"SecurityException on binaries running from a network share","text":"<p>Let's say I get a SecurityException when running my .NET console application from \"\\vmware-host\\Shared Folders\". In this case, simply open a developer prompt and type:</p> <pre><code>CasPol.exe -m -ag 1.2 -url \"file://\\\\vmware-host\\Shared Folders/*\" FullTrust\n</code></pre> <p>From \"Using CasPol to Fully Trust a Share\".</p>"},{"location":"Miscellaneous/MiscNotes/#netcopy","title":"Netcopy","text":"<p>Want to copy a file from one *Nix macine to another without the hassle of FTP?</p> <p>DestinationShell:</p> <pre><code>nc -l -p 2020 &gt; file.txt\n</code></pre> <p>SourceShell:</p> <pre><code> cat file.txt | nc dest.ip.address 2020\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#twiki-syntax-high-lighting","title":"TWiki syntax high-lighting","text":"<p>TWiki sucks. But it sucks harder without syntax higlighting of snipptes. This plugin fixes that: DpSyntaxHighlighterPlugin</p>"},{"location":"Miscellaneous/MiscNotes/#cruft-detection","title":"Cruft detection","text":"<p>Legacy projects are hoary with cruft. Find it and remove it with ...</p> <ul> <li>Classpath Helper</li> <li>UCDetector: Unnecessary Code Detector</li> <li>Tattletale</li> </ul>"},{"location":"Miscellaneous/MiscNotes/#codesigning","title":"Codesigning","text":"<p>Signing a .NET binary post build is easy with a X.509 certificate. Heres how to sign <code>MyApp.exe</code> with <code>mycert.pfx</code>:</p> <pre><code>signtool.exe sign /v /f \"mycert.pfx\" -t \"&lt;http://timestamp.verisign.com/scripts/timstamp.dll&gt;\" \"MyApp.exe\"\n</code></pre>"},{"location":"Miscellaneous/MiscNotes/#custom-security-contexts-in-jersey","title":"Custom Security Contexts in Jersey","text":"<p>Jersey (JAX-RS) SecurityContext in action</p>"},{"location":"Miscellaneous/MiscNotes/#linux-pam","title":"Linux &amp; PAM","text":"<p>Sometimes you have a Linux server that uses PAM/ActiveDirectory to validate logins. If the connection to the AD lapses for some reason, you can find yourself locked out. These steps fix that.</p> <p>Boot into single-user mode, hold shift during startup and choose <code>advanced options -&gt; recoverymode -&gt; drop to root shell</code> from the Grub menu.</p> <p>Remount hard disk in RW mode:</p> <pre><code>mount -o remount,rw /\n</code></pre> <p>Reestablish AD trust with Kerberos:</p> <pre><code>kinit xxx@MY-DOM\n</code></pre> <p>... where <code>xxx</code> is an AD browser account on the <code>MY-DOM</code> domain.</p>"},{"location":"Miscellaneous/MiscNotes/#net-core-notes","title":".NET Core notes","text":"<ul> <li>.NET Core download</li> <li>Documentation</li> <li>How to setup Https on Kestrel</li> <li>Using both xproj and csproj with .NET Core</li> </ul>"},{"location":"Miscellaneous/MiscNotes/#rest-services","title":"REST Services","text":"<p>Service versioning</p>"},{"location":"Miscellaneous/OAuth2/","title":"OAuth2","text":""},{"location":"Miscellaneous/OAuth2/#introductions","title":"Introductions","text":"<ul> <li>An Illustrated Guide to OAuth and OpenID Connect</li> <li>An Introduction to OAuth 2 | DigitalOcean</li> <li>Diagrams And Movies Of All The OAuth 2.0 Flows</li> </ul>"},{"location":"Miscellaneous/OAuth2/#more-crunchy-info","title":"More crunchy info","text":"<ul> <li>Single Sign-On for Desktop and Mobile Applications using SAML and OAuth</li> <li>SAML vs. OAuth2</li> </ul>"},{"location":"Miscellaneous/ObsidianNotes/","title":"Obsidian","text":"<p>Obsidian is a good tool for making Markdown wikis.</p>"},{"location":"Miscellaneous/ObsidianNotes/#useful-plugins","title":"Useful plugins","text":"<ul> <li>Link Converter: convert links on pages between Obsidian's format and Markdown format.</li> <li>Dataview Make tables of data sourced from tagged pages.</li> </ul>"},{"location":"Miscellaneous/SAML/","title":"Getting SAML up and running","text":""},{"location":"Miscellaneous/SAML/#public-idps-for-testing","title":"Public IdPs for testing","text":"<ul> <li>SSO Circle</li> <li>TestShib</li> <li>Git project</li> </ul>"},{"location":"Miscellaneous/SsisNotes/","title":"SSIS Notes","text":"<p>Some random notes about the challenges of SSIS.</p>"},{"location":"Miscellaneous/SsisNotes/#calling-stored-procedures-from-ole-db-source","title":"Calling stored procedures from OLE DB Source","text":"<p>Calling parameterized stored procedures from an OLE DB Source uses a non intuitive interface.</p> <p>Assuming I want to call an SP called \"Foo\" with an integer parameter \"@Bar\" that returns a tuple of \"{Int, NVarChar(255)}\", I would normally call the SP with</p> <pre><code>EXEC Foo ?\n</code></pre> <p>... where ? is a string.</p> <p>However, SSIS will fail to map the query parameters and output correctly.</p> <p>Instead I must set the script to:</p> <pre><code>EXEC Foo @Bar = ? WITH RESULT SETS \n(\n ( \n  [Baz] INT,\n  [Lur] VARCHAR(255)\n ) \n)\n</code></pre> <p>In the \"Parameters...\" section, I also have to name the parameter \"@Bar\" before mapping it to a suitable input variable.</p> <p>Source: http://geekswithblogs.net/stun/archive/2009/03/05/mapping-stored-procedure-parameters-in-ssis-ole-db-source-editor.aspx</p>"},{"location":"Miscellaneous/TomcatSSL/","title":"Tomcat HTTPS","text":""},{"location":"Miscellaneous/TomcatSSL/#make-a-keystore-with-a-self-signed-key","title":"Make a keystore with a self-signed key","text":"<p>Tomcat uses a keystore to access the SSL certifcate. For development servers, the easiest method is to just make a new self-signed certifcate using \"keytool\" from the JDK:</p> <pre><code>$ keytool -genkey -keyalg RSA -alias tomcat -keystore $CATALINA_HOME/conf/keystore.jks -storepass changeit -keypass changeit -validity 9999 -keysize 2048\nWhat is your first and last name?\n  [Unknown]:  localhost\nWhat is the name of your organizational unit?\n  [Unknown]:\nWhat is the name of your organization?\n  [Unknown]:\nWhat is the name of your City or Locality?\n  [Unknown]:\nWhat is the name of your State or Province?\n  [Unknown]:\nWhat is the two-letter country code for this unit?\n  [Unknown]:\nIs CN=localhost, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown correct?\n  [no]:  yes\n</code></pre> <p>\"First and last name should be the hostname of the virtual host you plan to use \"it for, which is localhost in this case.</p> <p>Remember to use a different password than \"changeit\" for the store and key. This tutorial assumes that they are the same.</p> <p>Next, ad the following connector to <code>$CATALINA_HOME/conf/server.xml</code>:</p> <pre><code>&lt;Connector protocol=\"org.apache.coyote.http11.Http11Nio2Protocol\"\n  sslImplementationName=\"org.apache.tomcat.util.net.jsse.JSSEImplementation\"\n  port=\"8443\" maxThreads=\"200\" scheme=\"https\" secure=\"true\" SSLEnabled=\"true\"\n  keystoreFile=\"conf/keystore.jks\" keystorePass=\"changeit\" keystoreType=\"JKS\"\n  keyAlias=\"tomcat\" clientAuth=\"false\" sslProtocol=\"TLS\"/&gt;\n</code></pre>"},{"location":"Miscellaneous/TomcatSSL/#using-an-existing-certificate-in-pkcs12-format","title":"Using an existing certificate in PKCS#12 format","text":"<p>If there is an existing certificate in PKCS#12 for (.p12 or.pfx), copy it to the Tomcat server's \"conf\" dir. The following assumes it's called \"keystore.p12\".</p> <p>Once the certificate is in the conf-dir, we need to find the alias for the key.</p> <pre><code>keytool -list -storetype pkcs12 -keystore keystore.p12 -v\n</code></pre> <p>... the output should resemble the following:</p> <pre><code>Keystore type: PKCS12\nKeystore provider: SunJSSE\n\nYour keystore contains 1 entry\n\nAlias name: {69010cf9-776d-4c4d-8ff8-4f5ae6b8cbc4}\nCreation date: Nov 23, 2017\nEntry type: PrivateKeyEntry\nCertificate chain length: 2\nCertificate[1]:\nOwner: CN=example.org, O=Internet Widgits Pty Ltd, ST=Some-State, C=DK\nIssuer: EMAILADDRESS=noreply@example.org, CN=Example Root Certificate, O=Example Inc.\nSerial number: 8efdc8df1da50d75\nValid from: Mon Nov 30 11:13:11 CET 2015 until: Thu Apr 16 12:13:11 CEST 2043\nCertificate fingerprints:\n...\n</code></pre> <p>From the output we can see that the alias for the key is: <code>{69010cf9-776d-4c4d-8ff8-4f5ae6b8cbc4}</code></p> <p>Now we can add the connector to server.xml:</p> <pre><code>&lt;Connector protocol=\"org.apache.coyote.http11.Http11Nio2Protocol\"\n  sslImplementationName=\"org.apache.tomcat.util.net.jsse.JSSEImplementation\"\n  port=\"8443\" maxThreads=\"200\" scheme=\"https\" secure=\"true\" SSLEnabled=\"true\"\n  keystoreFile=\"conf/keystore.p12\" keystorePass=\"changeit\" keystoreType=\"PKCS12\"\n  keyAlias=\"{69010cf9-776d-4c4d-8ff8-4f5ae6b8cbc4}\" clientAuth=\"false\" sslProtocol=\"TLS\"/&gt;\n</code></pre>"},{"location":"Miscellaneous/TomcatSSL/#test-ssl","title":"Test SSL","text":"<p>After adding the connector, the server now runs SSL on port 8443, e.g. <code>https://localhost:8443</code></p>"},{"location":"Miscellaneous/UbuntuHyperV/","title":"Ubuntu in Hyper-V","text":"<p>note: Don't do this. Just use WSL2. Hyper-V is unstable.</p> <p>Setup a quick Ubuntu workstation with support for extended sessions.</p> <ul> <li>Quick-Create an Ubuntu 20 machine</li> <li>Don't enable auto-login</li> <li> <p>Keyboard should be win-keys</p> </li> <li> <p>Run in the VM:</p> </li> </ul> <pre><code># wget https://raw.githubusercontent.com/Microsoft/linux-vm-tools/master/ubuntu/18.04/install.sh\nwget https://tinyurl.com/linuxvmtoools \nsudo chmod +x linuxvmtoools\nsudo ./linuxvmtoools\nsudo apt install vim\n</code></pre> <ul> <li>Edit <code>/etc/xrdp/xrdp.ini</code> to add:</li> </ul> <p>\u200b<code>ini   port=vsock://-1:3389   use_vsock=false</code></p> <ul> <li>Shutdown VM and admin Powershell</li> <li>Run in PS:</li> </ul> <pre><code>Set-VM -VMName &lt;your_vm_name&gt;  -EnhancedSessionTransportType HvSocket\n</code></pre> <p>Source: How to install Ubuntu 20.04 on Hyper-V with enhanced session</p>"},{"location":"Miscellaneous/UbuntuHyperV/#authentication-required-to-refresh-system-repositories","title":"\u201cAuthentication required to refresh system repositories\u201d","text":"<p>If this pops up constantly, create a file \"/etc/polkit-1/localauthority/50-local.d/46-allow-update-repo.pkla\":</p> <pre><code>[Allow Package Management all Users]\nIdentity=unix-user:*\nAction=org.freedesktop.packagekit.system-sources-refresh\nResultAny=yes\nResultInactive=yes\nResultActive=yes\n</code></pre>"},{"location":"Miscellaneous/VS%20Code/","title":"VS Code","text":""},{"location":"Miscellaneous/VS%20Code/#making-the-shell-behave","title":"Making the shell behave","text":"<p>Disable the setting <code>Terminal &gt; Integrated: Allow Chords</code>.</p> <p>Put this in <code>.bashrc</code> to make ctrl-S work for forward command history search (don't interpret ctrl-s and ctrl-q as control flow keys). <pre><code>stty -ixon\n</code></pre></p>"},{"location":"Miscellaneous/WhyPythonSucks/","title":"Parseltounge is a stupid programming language","text":"<ul> <li>foot gun: https://pylint.readthedocs.io/en/latest/user_guide/messages/warning/dangerous-default-value.html</li> <li>whitespace indentation</li> <li>no privacy</li> <li>underscore vars, methods, and files are just pretend private</li> <li>double underscore names cause mangling to avoid shadowing</li> <li>you have to list self as a parameter</li> <li>no block comments</li> <li>clumsy entry points: <code>if __name__ == '__main__':</code></li> <li><code>pass</code>, because we can't do empty scopes \ud83d\ude44</li> <li>custom ternaries: <code>client_data['client_id'] if dynamically_registered else _config.get(\"client_id\", \"\")</code></li> </ul>"},{"location":"Miscellaneous/WhyPythonSucks/#minor-quibbles","title":"Minor quibbles","text":"<ul> <li>No null coalescing operators</li> </ul>"},{"location":"Miscellaneous/WhyPythonSucks/#sort-of-cool","title":"Sort of cool","text":"<ul> <li>Mixins</li> <li>List comprehensions</li> </ul>"},{"location":"Programming/Assembler/","title":"Assembly","text":"<p>Compilers written in Assembly for Lisp, Forth and C: https://github.com/mhvelplund/stage0/tree/master/stage2</p>"},{"location":"Programming/Jupyter/","title":"Jupyter","text":""},{"location":"Programming/Jupyter/#poetry","title":"Poetry","text":"<p>Create a kernel from a directory:</p> <pre><code>poetry run python -m ipykernel install --user --name \"my-kernel\"\n</code></pre>"},{"location":"Programming/Jupyter/#rust","title":"Rust","text":"<pre><code>pip install jupyterlab\ncargo install evcxr_jupyter\nevcxr_jupyter --install\nrustup component add rust-src\njupyter lab\n</code></pre>"},{"location":"Programming/MssqlCookbooks/","title":"MSSQL Cookbooks","text":"<p>Some useful MSSQL queries for daily maintenance.</p>"},{"location":"Programming/MssqlCookbooks/#expensive-queries","title":"Expensive queries","text":"<pre><code>SELECT TOP 10 SUBSTRING(qt.TEXT, (qs.statement_start_offset/2)+1, ((CASE qs.statement_end_offset\nWHEN -1 THEN DATALENGTH(qt.TEXT)\nELSE qs.statement_end_offset\nEND - qs.statement_start_offset)/2)+1),\nqs.execution_count,\nqs.total_logical_reads,\nqs.last_logical_reads,\nqs.total_logical_writes,\nqs.last_logical_writes,\nqs.total_worker_time,\nqs.last_worker_time,\nqs.total_elapsed_time/1000000 total_elapsed_time_in_S,\nqs.last_elapsed_time/1000000 last_elapsed_time_in_S,\nqs.last_execution_time,\nqp.query_plan\nFROM sys.dm_exec_query_stats qs\nCROSS APPLY sys.dm_exec_sql_text\n(\n   qs.sql_handle\n)\nqt\nCROSS APPLY sys.dm_exec_query_plan(qs.plan_handle) qp\nORDER BY qs.total_logical_reads DESC -- logical reads\n-- ORDER BY qs.total_logical_writes DESC -- logical writes\n-- ORDER BY qs.total_worker_time DESC -- CPU time\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#find-the-most-fragmented-indexes","title":"Find the most fragmented indexes","text":"<pre><code>SELECT dbschemas.[name] as 'Schema', dbtables.[name] as 'Table', dbindexes.[name] as 'Index', indexstats.avg_fragmentation_in_percent, indexstats.page_count\nFROM sys.dm_db_index_physical_stats (DB_ID(), NULL, NULL, NULL, NULL) AS indexstats\nINNER JOIN sys.tables dbtables on dbtables.[object_id] = indexstats.[object_id]\nINNER JOIN sys.schemas dbschemas on dbtables.[schema_id] = dbschemas.[schema_id]\nINNER JOIN sys.indexes AS dbindexes ON dbindexes.[object_id] = indexstats.[object_id]\nAND indexstats.index_id = dbindexes.index_id\nWHERE indexstats.database_id = DB_ID() --AND dbtables.[name] like 'WastePickup%'\nORDER BY indexstats.avg_fragmentation_in_percent desc\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#large-tables","title":"Large tables","text":"<pre><code>SELECT\n    t.NAME AS TableName,\n    i.name as indexName,\n    p.[Rows],\n    sum(a.total_pages) as TotalPages,\n    sum(a.used_pages) as UsedPages,\n    sum(a.data_pages) as DataPages,\n    (sum(a.total_pages) * 8) / 1024 as TotalSpaceMB,\n    (sum(a.used_pages) * 8) / 1024 as UsedSpaceMB,\n    (sum(a.data_pages) * 8) / 1024 as DataSpaceMB\nFROM\n    sys.tables t\nINNER JOIN\n    sys.indexes i ON t.OBJECT_ID = i.object_id\nINNER JOIN\n    sys.partitions p ON i.object_id = p.OBJECT_ID AND i.index_id = p.index_id\nINNER JOIN\n    sys.allocation_units a ON p.partition_id = a.container_id\nWHERE\n    t.NAME NOT LIKE 'dt%' AND\n    i.OBJECT_ID &gt; 255 AND\n    i.index_id &lt;= 1\nGROUP BY\n    t.NAME, i.object_id, i.index_id, i.name, p.[Rows]\nORDER BY\n--    object_name(i.object_id)\n  Rows desc\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#open-connections","title":"Open connections","text":"<pre><code>SELECT DB_NAME(dbid) as DBName, COUNT(dbid) as NumberOfConnections, loginame as LoginName\nFROM sys.sysprocesses\nWHERE dbid &gt; 0\n--AND status &lt;&gt; 'sleeping'\nGROUP BY dbid, loginame\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#statistics","title":"Statistics","text":""},{"location":"Programming/MssqlCookbooks/#info-about-the-last-stats-update","title":"Info about the last stats update","text":"<pre><code>SELECT t.name AS Table_Name, i.name AS Index_Name, i.type_desc AS Index_Type ,\nSTATS_DATE(i.object_id,i.index_id) AS Date_Updated\nFROM sys.indexes i\nJOIN sys.tables t ON t.object_id = i.object_id\nWHERE i.type &gt; 0\nORDER BY Date_Updated ASC\n--t.name ASC ,i.type_desc ASC ,i.name ASC\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#update-the-stats-for-an-index-on-a-table","title":"Update the stats for an index on a table","text":"<pre><code>UPDATE STATISTICS table_name index_name\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#update-all-stats-in-a-schema","title":"Update all stats in a schema","text":"<p>NB: This can take a long time (in excess of 20 minutes)</p> <pre><code>EXEC sp_updatestats\n</code></pre>"},{"location":"Programming/MssqlCookbooks/#split_string-before-sql-server-2016","title":"SPLIT_STRING before SQL Server 2016","text":"<pre><code>CREATE FUNCTION STRING_SPLIT ( \n    @string NVARCHAR(MAX), \n    @delimiter CHAR(1) \n) \nRETURNS @output TABLE([value] NVARCHAR(MAX)) \nBEGIN \n    DECLARE @start INT, @end INT \n    SELECT @start = 1, @end = CHARINDEX(@delimiter, @string) \n    WHILE @start &lt; LEN(@string) + 1 BEGIN \n        IF @end = 0  \n            SET @end = LEN(@string) + 1\n\n        INSERT INTO @output ([value])  \n        VALUES(SUBSTRING(@string, @start, @end - @start)) \n        SET @start = @end + 1 \n        SET @end = CHARINDEX(@delimiter, @string, @start)        \n    END \n    RETURN \nEND\n</code></pre> <p>Source: http://www.sqlservercentral.com/blogs/querying-microsoft-sql-server/2013/09/19/how-to-split-a-string-by-delimited-char-in-sql-server/</p>"},{"location":"Programming/Node/","title":"Node.js","text":""},{"location":"Programming/Node/#misc","title":"Misc","text":"<ul> <li>Make a Promise out of a Callback function in JavaScript</li> <li>Use node for shell scripting: google/zx</li> <li>Set up a new TypeScript project</li> <li>How to Build an AWS Lambda Function in Typescript (src: scotch.io)</li> <li>How to fix \"__dirname is not defined in ES module scope\"</li> <li>[Using <code>zx</code> with TypeScript, ESM and top-level <code>await</code>]</li> <li>Compile a Node.js project into a single file: npmjs.com/@vercel/ncc</li> <li>Test server for OpenAPI specs: @openapi-generator-plus/typescript-express-example-server-generator.</li> </ul>"},{"location":"Programming/Node/#installing-nodejs","title":"Installing node.js","text":"<p>Source: Set up your Node.js development environment with WSL 2</p> <pre><code># Get Node version manager. Check for newer release at https://github.com/nvm-sh/nvm\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash\nnvm install node  # Install the newest node\nnvm install --lts # Install the current LTS version\n\n# Set some defaults form npm init. See current settings with \"npm config list | grep init\"\nnpm set init-author-name \"Mads Hvelplund\"\nnpm set init-author-email \"mads@swissarmyronin.dx\"\nnpm set init-author-url \"https://your-url.com\"\nnpm set init-license \"MIT\"\nnpm set init-version \"1.0.0\"\n</code></pre> <p>Make sure that neither path for node and npm hit the ones installed locally by NVM!</p>"},{"location":"Programming/Node/#setup-new-project","title":"Setup new project","text":"<p>Initialize a project with:</p> <pre><code>npx --yes license MIT\nnpx --yes gitignore node\nnpm init -y\n\n# for typescript add ...\nnpm i typescript --save-dev\nnpx --yes tsc --init\necho \"console.log('Hello World');\" &gt; index.ts\nnpm install &amp;&amp; tsc &amp;&amp; node index.js\n</code></pre>"},{"location":"Programming/Python/","title":"Python","text":""},{"location":"Programming/Python/#progamatically-list-installed-packages","title":"Progamatically list installed packages","text":"<pre><code>import pkg_resources\n\nfor package_name in [package.key for package in pkg_resources.working_set]:\n    print(f\"{package_name}: {pkg_resources.get_distribution(package_name).version}\")\n</code></pre>"},{"location":"Programming/Python/#dataclass-from-dict","title":"Dataclass from dict","text":"<p>Source: https://stackoverflow.com/a/54769644/511976</p> <pre><code>def dataclass_from_dict(klass, d):\n    try:\n        fieldtypes = {f.name: f.type for f in fields(klass)}\n        return klass(**{f: dataclass_from_dict(fieldtypes[f], d[f]) for f in d})\n    except Exception:\n        return d  # Not a dataclass field\n</code></pre>"},{"location":"Programming/Python/#start-an-ad-hoc-web-server","title":"Start an ad-hoc web server","text":"<p>Run:</p> <pre><code>python -m http.server --directory &lt;directory&gt;\n</code></pre>"},{"location":"Programming/Python/#list-the-loggers-and-make-some-of-them-shut-up","title":"List the loggers and make some of them shut up","text":"<pre><code># List loggers\nloggers = [logging.getLogger(name) for name in logging.root.manager.loggerDict]\nprint(loggers)\n\n# STFU Py4J\nlogging.getLogger(\"py4j.clientserver\").setLevel(logging.ERROR)  \n</code></pre>"},{"location":"Programming/Python/#decorative-python","title":"Decorative Python","text":"<p>Primer on Python Decorators: https://realpython.com/primer-on-python-decorators/</p>"},{"location":"Programming/Python/#syncasync","title":"Sync/Async","text":"<p>A simple walk-through of the interaction between sync and async: https://www.aeracode.org/2018/02/19/python-async-simplified</p>"},{"location":"Programming/Python/#installing-pyenv-in-windows","title":"Installing pyenv in Windows","text":"<pre><code>Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass\nInvoke-WebRequest -UseBasicParsing -Uri \"https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1\" -OutFile \"./install-pyenv-win.ps1\"; &amp;\"./install-pyenv-win.ps1\"\n</code></pre> <p>Add <code>&lt;HOME_DIR&gt;\\.pyenv\\pyenv-win\\bin</code> to PATH</p> <ol> <li><code>pyenv --version</code>\u00a0to check if the installation was successful.    </li> <li>Run\u00a0<code>pyenv install -l</code>\u00a0to check a list of Python versions supported by pyenv-win</li> <li>Run\u00a0<code>pyenv install &lt;version&gt;</code>\u00a0to install the supported version    </li> <li>Run\u00a0<code>pyenv global &lt;version&gt;</code>\u00a0to set a Python version as the global version</li> <li> <p>Check which Python version you are using and its path</p> <pre><code>&gt; pyenv version\n&lt;version&gt; (set by \\path\\to\\.pyenv\\pyenv-win\\.python-version)\n</code></pre> </li> <li> <p>Check that Python is working</p> <pre><code>&gt; python -c \"import sys; print(sys.executable)\"\n\\path\\to\\.pyenv\\pyenv-win\\versions\\&lt;version&gt;\\python.exe\n</code></pre> </li> </ol>"},{"location":"Programming/Rust/","title":"Rust","text":""},{"location":"Programming/Rust/#libs","title":"Libs","text":"<ul> <li>env_logger</li> <li>anyhow</li> <li>thiserror</li> </ul>"},{"location":"Programming/Rust/#cargo-plugins","title":"Cargo plugins","text":""},{"location":"Programming/Rust/#explore-further","title":"Explore further","text":""},{"location":"Programming/Rust/#cargo-diet","title":"cargo-diet","text":"<p>https://crates.io/crates/cargo-diet</p> <p>Trims crate size before publishing.</p>"},{"location":"Programming/Rust/#cargo-get","title":"cargo-get","text":"<p>https://crates.io/crates/cargo-get</p> <p>Extract version information from Cargo.toml files for CI.</p>"},{"location":"Programming/Rust/#cargo-cache","title":"cargo-cache","text":"<p>https://crates.io/crates/cargo-cache</p> <p>Install: <code>cargo install cargo-cache</code> Run: <code>cargo cache</code></p> <p>Cleans up the local Cargo cache. Useful.</p>"},{"location":"Programming/Rust/#cargo-udeps","title":"cargo-udeps","text":"<p>https://crates.io/crates/cargo-udeps</p> <p>Install: <code>cargo install cargo-udeps --locked</code> Run: <code>cargo +nightly udeps</code></p> <p>Finds unused dependencies.</p> <ul> <li>+remove cruft</li> <li>-might have false positives</li> </ul>"},{"location":"Programming/Rust/#cargo-deb","title":"cargo-deb","text":"<p>https://crates.io/crates/cargo-deb</p> <p>Build Debian packages from Cargo projects. Looks super useful.</p>"},{"location":"Programming/Rust/#cargo-make","title":"cargo-make","text":"<p>https://crates.io/crates/cargo-make</p> <p>Looks interesting. It allows you to run scripts with cargo in a manner like Ant. Might be an antipattern though ...</p>"},{"location":"Programming/Rust/#maybe-later","title":"Maybe later","text":""},{"location":"Programming/Rust/#cargo-msrv","title":"cargo-msrv","text":"<p>https://crates.io/crates/cargo-msrv</p> <p>Install: <code>cargo install cargo-msrv</code></p> <p>Find the minimum supported rust version for a crate.</p>"},{"location":"Programming/Rust/#cargo-nextest","title":"cargo-nextest","text":"<p>https://crates.io/crates/cargo-nextest</p> <p>Install: <code>cargo install cargo-nextest --locked</code></p> <ul> <li>+slightly faster</li> <li>+pretty output</li> <li>-one test succeeded in normal cargo test but had to be modified in cargo-nextest?</li> </ul>"},{"location":"Programming/Rust/#cargo-auditable","title":"cargo-auditable","text":"<p>Meh ... embeds dependency manifest in binary. Allows you to check later with audit if an installed binary has know vulnerabilities.</p>"},{"location":"Programming/Rust/#cargo-deny","title":"cargo-deny","text":"<p>https://crates.io/crates/cargo-deny</p> <ul> <li>-overlaps with audit on advisories</li> <li>-alarmist</li> </ul>"},{"location":"Programming/Rust/#nah","title":"Nah","text":""},{"location":"Programming/Rust/#cargo-audit-for-fix","title":"cargo-audit (for fix)","text":"<p>Check for vulnerable dependencies. THe fix command is useless.</p>"},{"location":"Programming/Rust/#cargo-semver-checks","title":"cargo-semver-checks","text":"<p>Great idea but seems pretty useless at the moment.</p> <p>https://crates.io/crates/cargo-semver-checks</p> <p><code>cargo semver-checks check-release --baseline-rev main</code></p> <ul> <li>+can check for breaking changes in CI</li> <li>-doesn't work from workspaces.</li> </ul>"},{"location":"Programming/Rust/#self-signed-ca-problem","title":"Self signed CA problem","text":"<p>Sometimes you need to access a system with a self-signed root CA via SSL, and you might get errors like:</p> <pre><code>No response received: error trying to connect: error:1416F086:SSL\nroutines:tls_process_server_certificate:certificate verify failed:ssl/statem/statem_clnt.c:1919::\nself signed certificate in certificate chain\n</code></pre> <p>If you don't own the system you are running on, but are seeing issues with self-signed certificates in the trust chain of a site you are connecting to, try this:</p> <p>Copy a version of the system's CA setup to a local file, e.g.:</p> <pre><code>cp /etc/ssl/certs/ca-certificates.crt $HOME/ca-certificates.crt\n</code></pre> <p>Add the CA you want to trust to the end of the new file. The cert snippet should look something like:</p> <pre><code>-----BEGIN CERTIFICATE-----\nMIIGTzCCBDegAwIBAgIQWAoyV+tzprJIl8dVQmA0CjANBgkqhkiG9w0BAQsFADBf\n... base64 encoded nonsense ...\nHSsB3yggN5bqCpTpSDGKsWU30sZ1152T/KaVwwCfzZ3e5jc=\n-----END CERTIFICATE-----\n</code></pre> <p>Now export the new CA as an env var:</p> <pre><code>export SSL_CERT_FILE=$HOME/ca-certificates.crt\n</code></pre> <p>This should replace the system CA with your ammended CA.</p>"},{"location":"Programming/Rust/#lambda-links","title":"Lambda links","text":"<ul> <li>Official aws-lambda-rust-runtime</li> <li>Using Rust Lambdas in Production</li> </ul>"},{"location":"Programming/StoredProcedureExamples/","title":"Examples of stored procedures/functions","text":"<p>These are based on scanning some tables and aggreagating data. The details are unimportant, but both methods achieve roughly the same result.</p>"},{"location":"Programming/StoredProcedureExamples/#whoisactive","title":"WhoIsActive","text":"<p>WhoIsActive is a useful stored procedure (FILE Feb. 1st, 2018).</p> <p>Find Blocking leaders</p> <pre><code>EXEC sp_WhoIsActive @find_block_leaders = 1\n</code></pre> <p>Returns the same data as in comment header</p> <pre><code>EXEC sp_WhoIsActive    @help = 1\n</code></pre> <p>Outer ad-hoc query, query plans, full stored procedure or batch</p> <pre><code>EXEC sp_whoisactive @get_outer_command = 1,@get_plans=1,@get_full_inner_text=1\n</code></pre> <p>Get Locks per request . XML format</p> <pre><code>EXEC sp_WhoIsActive    @get_locks = 1\n</code></pre> <p>Get waits of all waits pending on a request</p> <pre><code>EXEC sp_WhoIsActive     @get_task_info = 2\n</code></pre> <p>Source: link</p>"},{"location":"Programming/StoredProcedureExamples/#stored-procedure-with-shared-temp-table","title":"Stored procedure with shared temp table","text":"<p>Creates two procedures (dropping existing variants). The second procedure uses the output from the first.</p> <pre><code>IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'GetSlowExecutions') AND type IN ( N'P', N'PC' ))\nDROP PROCEDURE GetSlowExecutions\nGO\n\nCREATE PROCEDURE GetSlowExecutions\n @ThresholdSeconds BIGINT   \nAS   \n    SET NOCOUNT ON;  \n SELECT ExecutionId, (ExecutionDurationSec * 1000) / NumberOfRowsInserted AS MsPerRow, ExecutionDurationSec / 60 AS Minutes, PackageName, \n  Status, Destination, NumberOfRowsInserted \n FROM (\n  SELECT xd.ExecutionDurationSec, x.PackageName, xd.ExecutionId, xd.Status, xd.Destination, xd.NumberOfRowsInserted, \n   xd.NumberOfRowsSelected, xd.StartTime, xd.EndTime\n  FROM Audit.ExecutionDetail AS xd \n  INNER JOIN Audit.Execution AS x ON xd.ExecutionId = x.ExecutionId\n  WHERE xd.ExecutionDurationSec &gt; 0\n ) AS x\n WHERE (NumberOfRowsInserted &gt; 0) AND (ExecutionDurationSec &gt; @ThresholdSeconds)\n ORDER BY MsPerRow DESC;\nGO\n\nIF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'GetSlowPackages') AND type IN ( N'P', N'PC' ))\nDROP PROCEDURE GetSlowPackages\nGO\n\n-- packages that contain executions where every insert takes a long time and the overall \n-- execution time is greater than @ThresholdSeconds\nCREATE PROCEDURE GetSlowPackages\n @ThresholdSeconds BIGINT   \nAS   \n    SET NOCOUNT ON;  \n CREATE TABLE #Result (\n  ExecutionId BIGINT, MsPerRow INT, Minutes INT, PackageName VARCHAR(255),\n  Status VARCHAR(255), Destination VARCHAR(255), NumberOfRowsInserted INT\n );\n INSERT #Result EXECUTE GetSlowExecutions @ThresholdSeconds;\n SELECT MAX(MsPerRow) AS MsPerRow, PackageName\n FROM #Result AS sq\n GROUP BY PackageName\n ORDER BY MsPerRow DESC;\n DROP TABLE #Result;\nGO\n\nDECLARE @Threshold INT = 600;\nEXECUTE GetSlowExecutions @Threshold\nEXECUTE GetSlowPackages @Threshold\nGO\n</code></pre>"},{"location":"Programming/StoredProcedureExamples/#functions","title":"Functions","text":"<p>As before, two functions, where the latter uses the first's output.</p> <pre><code>IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'FGetSlowExecutions') AND type = N'IF')\nDROP FUNCTION FGetSlowExecutions\nGO\n\nCREATE FUNCTION FGetSlowExecutions (@ThresholdSeconds int)\nRETURNS TABLE AS\nRETURN (\n SELECT ExecutionId, (ExecutionDurationSec * 1000) / NumberOfRowsInserted AS MsPerRow, ExecutionDurationSec / 60 AS Minutes, PackageName, \n  Status, Destination, NumberOfRowsInserted \n FROM (\n  SELECT xd.ExecutionDurationSec, x.PackageName, xd.ExecutionId, xd.Status, xd.Destination, xd.NumberOfRowsInserted, \n   xd.NumberOfRowsSelected, xd.StartTime, xd.EndTime\n  FROM Audit.ExecutionDetail AS xd \n  INNER JOIN Audit.Execution AS x ON xd.ExecutionId = x.ExecutionId\n  WHERE xd.ExecutionDurationSec &gt; 0\n ) AS x\n WHERE NumberOfRowsInserted &gt; 0 AND ExecutionDurationSec &gt; @ThresholdSeconds\n)\nGO\n\nIF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'FGetSlowPackages') AND type = N'IF')\nDROP FUNCTION FGetSlowPackages\nGO\n\nCREATE FUNCTION FGetSlowPackages (@ThresholdSeconds int)\nRETURNS TABLE AS\nRETURN (\n SELECT MAX(MsPerRow) AS MsPerRow, PackageName\n FROM FGetSlowExecutions(@ThresholdSeconds)\n GROUP BY PackageName\n)\nGO\n\nDECLARE @Threshold INT = 600;\nSELECT * FROM FGetSlowExecutions(@Threshold) ORDER BY MsPerRow DESC\nSELECT * FROM FGetSlowPackages(@Threshold) ORDER BY MsPerRow DESC\nGO\n</code></pre>"},{"location":"Programming/VirtualDeveloperEnvironmentWithVagrant/","title":"Virtual Angular developer environment with Vagrant","text":""},{"location":"Programming/VirtualDeveloperEnvironmentWithVagrant/#overview","title":"Overview","text":"<p>2023-09-17: Not anymore! \ud83d\ude42</p> <p>In my work, I unfortunately have to maintain some legacy applications that don't play nice with newer version of Visual Studio and MSSQL. An obvious solution was to use virtual machines for each environment, and after 5 minutes of Googling for things like \"vagrant windows development\" I came across this two-part article: Virtualize Your Windows Development Environments with Vagrant, Packer, and Chocolatey.</p> <p>Note: This tutorial ends up with a box running a preview of Windows 10 Enterprise edition, which may be fine, but I also tried using my own full edition of Windows 10. This failed later because the XML file for unattended setup didn't match. I guess I'll look into that later.</p>"},{"location":"Programming/VirtualDeveloperEnvironmentWithVagrant/#the-goal","title":"The goal","text":"<p>To get started I'm going to make something simple where I can find all the packages I need with Chocolatey.</p> <p>I settled on building a development machine for Angular development.</p> <p>Base box:</p> <ul> <li>Windows 10</li> <li>Chocolatey</li> </ul> <p>Vagrant addons:</p> <ul> <li>VS Code</li> <li>Chrome</li> <li>Git</li> <li>Node.js (for npm)</li> </ul>"},{"location":"Programming/VirtualDeveloperEnvironmentWithVagrant/#tools","title":"Tools","text":"<p>To make my Angualr dev machine I need some tools:</p> <ul> <li>VirtualBox [5.1.26]:   This is the virtual machine host that will be running my Vagrant images.</li> <li>Vagrant [2.0.0]:   This is the tool that manages the virtual machines</li> <li>Packer [1.0.4]:   I need this to build my Vagrant base box.</li> </ul> <p>I install VirtualBox and Vagrant in the given order using the default options and locations. Vagrant requires a restart.</p> <p>\"Packer\" is just an executable, so for now I just unzip it and place it in my system path.</p>"},{"location":"Programming/VirtualDeveloperEnvironmentWithVagrant/#creating-a-base-box","title":"Creating a base box","text":"<p>Following the original article, I clone the example repository (joefitzgerald/packer-windows).</p> <p>After cloning \"packer-windows\" I open a command line in the new directory.</p> <p>The Windows 10 template does not include Chocolatey, so i added <code>\"./scripts/chocolatey.ps1\",</code> to the provisioners section of \"windows_10.json\" (it's important that it's before the compact script):</p> <pre><code>\"provisioners\": [\n  {\n    \"type\": \"shell\",\n    \"remote_path\": \"/tmp/script.bat\",\n    \"execute_command\": \"{{.Vars}} cmd /c C:/Windows/Temp/script.bat\",\n    \"scripts\": [\n      \"./scripts/vm-guest-tools.bat\",\n      \"./scripts/vagrant-ssh.bat\",\n      \"./scripts/disable-auto-logon.bat\",\n      \"./scripts/enable-rdp.bat\",\n      \"./scripts/compile-dotnet-assemblies.bat\"\n    ]\n  },\n  {\n    \"type\": \"powershell\",\n    \"script\": \"./scripts/chocolatey.ps1\"\n  },\n  {\n    \"type\": \"shell\",\n    \"remote_path\": \"/tmp/script.bat\",\n    \"execute_command\": \"{{.Vars}} cmd /c C:/Windows/Temp/script.bat\",\n    \"script\": \"./scripts/compact.bat\"\n  }\n],\n</code></pre> <p>Hint: See \"windows_10_chocolatey.json\" and \"vagrantfile-windows_10_chocolatey.template\".</p> <p>Then I ran:</p> <pre><code>packer build windows_10_chocolatey.json\n</code></pre> <p>This took a while ... like 4 hours. The worst thing was that the process seeming stalled after 30 minutes while running \"SDelete\". Luckily, I left it running and eventually I had a new Vagrant box file in the \"packer-windows\" dir, called \"windows_10_virtualbox.box\".</p> <p>I moved the box file to \"c:\\HashCorp\" and started a new command line in that directory, where I ran:</p> <pre><code>vagrant box add windows10 windows_10_virtualbox.box\n</code></pre>"},{"location":"Programming/VirtualDeveloperEnvironmentWithVagrant/#configure-the-vagrant-box","title":"Configure the Vagrant box","text":"<p>With the base box defined, it's time to make images based on it. First I made a directory to store the virtual machine image. In the new directory I ran:</p> <pre><code>vagrant init windows10\n</code></pre> <p>This creates a Vagrant file.</p> <p>I edit the Vagrantfile to install some extra packages by adding the following at the bottom before the <code>end</code> keyword:</p> <pre><code>config.vm.provision \"shell\", inline: &lt;&lt;-SHELL\n  choco install -y googlechrome visualstudiocode nodejs.install git.install\nSHELL\n</code></pre> <p>Afterwards I run:</p> <pre><code>vagrant up\nvagrant rdp\n</code></pre> <p>Username: <code>.\\vagrant</code> Password: <code>vagrant</code></p> <p>Later, if I change the Vagrantfile, I can rerun the provisioning with:</p> <pre><code>vagrant reload --provision\n</code></pre> <p>That's it for now. I could try to add some of the plugins I use regularly in VS Code, but I would rather have a look at getting my non-preview ISO working, and installing some of those legacy systems that cause me trouble on a weekly basis.</p> <p>Hint: It might also be practical to create a repository for base boxes: How to set up a self-hosted \"vagrant cloud\" with versioned, self-packaged vagrant boxes</p>"},{"location":"blog/deepseek/","title":"Experimenting with DeepSeek R1","text":"<p>I wanted to see what all the fuss was about with DeepSeek, so I decided to give it a try. Apart from trying out Ollama once, I don't have much experience running LLM's locally, so I just downloaded LM Studio 0.3.8 and used that to download the DeepSeek model.</p>"},{"location":"blog/deepseek/#the-setup","title":"The setup","text":"<p>My computer is a Lenovo Legion with an i9 processor and 32 GB of RAM. Additionally, it has an NVIDIA RTX 4090 GPU with 16 GB of VRAM. So not exactly a potato, but not a supercomputer either. I used LLM RAM calculator to guesstimate that I could run the DeepSeek R1 70B (37.3 GB model), but that just made my computer very hot and frustrated. In retrospect, it might have been because I accidentally ran the model in CPU only mode, but I'm not sure. So I settled on trying the smaller DeepSeek R1 32B model (only 17.4 GB).</p> <p>Tinkering around with LM studio, I also worked out that I could offload approximately 48 og 64 layers of the model onto the GPU, and that made a big difference in my initial experiments.</p>"},{"location":"blog/deepseek/#the-experiment","title":"The experiment","text":"<p>In my daily work, I use models like Claude 3.5 Sonnet and GPT-3.5 for coding assistance, but pretty quickly, it was clear that even the smaller DeepSeek model was much too slow to use in the same way on my local hardware. So I decided to see how the reasoning capabilities of the model compared to the other models I use. Something that's new (to me) in DeepSeek, is that it show's me the reasoning behind the answer it gives, and I wanted to see how that worked in practice.</p> <p></p> <p>I drew a little graph on paper and transcribed that graph to a simple text format, before asking the model to find the shortest path between two nodes.</p> <p>Prompt</p> <pre><code>given a graph described a node name in the form of a letter colon a comma separated list of node name letters\nthat it is connected to, calculate the shortest path from x to s (both included) in the following graph:\n\ns: a\na: s,b,h\nb: a,c,f\nc: b,d,e\nd: c\ne: c\nf: b,h,q\ng: f\nh: a,i,q\ni: h,j,k\nj: i\nk: i,l\nl: k,m,n,o\nm: l\nn: l,o,q\no: l,n\np: q,x\nq: f,h,n,p\nx: p\n</code></pre> <p>Yes, the grammatical errors were part of the prompt \ud83e\udd26</p>"},{"location":"blog/deepseek/#reasoning-about-the-problem","title":"Reasoning about the problem","text":"<p>Immediately, I could see the \"thinking\" box start chewing over the problem, and it looked initially very promising.<sup>1</sup></p> <p>Thinking ...</p> <p>Alright, so I need to find the shortest path from node x to node s in this graph. Let me start by understanding how the graph is structured based on the given information.</p> <p>First, let's list out all the nodes and their connections:</p> <ul> <li>s: connected to a</li> <li>a: connected to s, b, h</li> <li>b: connected to a, c, f</li> <li>c: connected to b, d, e</li> <li>d: only connected to c</li> <li>e: only connected to c</li> <li>f: connected to b, h, q</li> <li>g: connected to f (but wait, g is only connected to f? Hmm)</li> <li>h: connected to a, i, q</li> <li>i: connected to h, j, k</li> <li>j: connected to i</li> <li>k: connected to i, l</li> <li>l: connected to k, m, n, o</li> <li>m: connected to l</li> <li>n: connected to l, o, q</li> <li>o: connected to l, n</li> <li>p: connected to q, x</li> <li>q: connected to f, h, n, p</li> <li>x: connected to p</li> </ul> <p>Okay, so we have a graph with nodes s, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, x.</p> <p>Wait, hold on. The node 'g' is only connected to 'f', but in the given data, it's written as \"g: f\". So that means from g, you can go to f, right? But in our problem, we're going from x to s, so maybe 'g' isn't directly involved unless we need to take a longer path. Let me note that for later.</p> <p>...</p> <p>Oops. DeepSeek noticed that I messed up the graph while I transcribed it, so the actual graph was more like:</p> <p></p> <p>I was a already impressed by the model's ability to deduce the format of the graph from the text, and even more excited to see how it spotted my mistake. But then the wheels started coming off the bus a little. It seemed to be going in circles, and I was starting to get a little impatient.</p> <p>Thinking in circles ...</p> <p>...</p> <p>Processing h next (since from x-&gt;p-&gt;q-&gt;h): From h: connected to a, i, q. - a is new; so mark a as level 4. - i is also new; mark i as level 4.</p> <p>Then processing n: From n: connected to l, o, q. - l and o haven't been visited yet. So mark l and o as level 4.</p> <p>So now at level 4, we have b, a, i, l, o.</p> <p>Wait, but a is directly connected to s! Because looking back at the nodes:</p> <p>s: a</p> <p>So from a, you can go to s. Since we're trying to reach s, once we get to a, that's one step away.</p> <p>But let me confirm if 'a' is in level 4 or not.</p> <p>Wait, our BFS levels are as follows:</p> <p>Level 0: x</p> <p>...</p> <p>... and around we go again.</p>"},{"location":"blog/deepseek/#the-answer","title":"The answer","text":"<p>After 21 minutes and 36 seconds, the model finally gave me the answer I was looking for. </p> <p>Thus, the shortest path is: x \u2192 p \u2192 q \u2192 h \u2192 a \u2192 s.</p> <p>Very long-winded, but that might be because I set the \"temperature\" too high.</p> The full answer <p>The shortest path from x to s includes the nodes x, p, q, h, a, and s, resulting in a total of 6 nodes (including both start and end). However, the number of edges traversed is 5.</p> <p>Step-by-step explanation:</p> <ol> <li>Start at node x.</li> <li>Move to node p (connected directly to x).</li> <li>From p, move to q.</li> <li>From q, move to h.</li> <li>From h, move to a.</li> <li>Finally, from a, reach s.</li> </ol> <p>Thus, the shortest path is: x \u2192 p \u2192 q \u2192 h \u2192 a \u2192 s.</p> <p>Answer: The shortest path from x to s is [x, p, q, h, a, s], which includes 5 edges or steps. </p> <p>But since the question mentions \"both included,\" it refers to including both start and end nodes in the count of nodes visited. Hence, there are 6 nodes in the path.</p> <p>However, if considering only the number of connections (edges), it's 5.</p> <p>Depending on what is required:</p> <ul> <li>If counting edges: 5 steps.</li> <li>If listing nodes: x, p, q, h, a, s (6 nodes).</li> </ul> <p>Given that the problem asks for \"the shortest path from x to s (both included),\" it likely expects the sequence of nodes. So the answer would be the list [x, p, q, h, a, s].</p> <p>But in terms of how many steps or edges: 5.</p> <p>But let's see the exact question:</p> <p>\"calculate the shortest path from x to s (both included) in the following graph\"</p> <p>So including both start and end, which are nodes. So we need to list all nodes along the shortest path.</p> <p>Hence, the answer is the sequence of nodes as above.</p> <p>Final Answer: The shortest path from x to s is <code>[x, p, q, h, a, s]</code>.</p> <p>I thought it would be fun to see if, given the context of the first solution, that the model could solve other graph questions in the same graph faster. I also tried giving it another question for the same graph, one I knew was impossible, but the results were unimpressive.</p>"},{"location":"blog/deepseek/#conclusion","title":"Conclusion","text":"<p>In the end, I'm not sure if I would use DeepSeek to solve this sort of general problems in the future, since it seems to require a lot of patience and a lot of resources. Others have already experimented with the more \"chat gpt\" like capabilities of the model, and it's definitely heavily censored by the Chinese government. So for anything other than cooking recipes<sup>2</sup>, I would be hesitant to let it search the net and filter the results for me.</p> <ol> <li> <p>The full transcript can be found here, and it's quite interesting, if a little long winded.\u00a0\u21a9</p> </li> <li> <p>\"... season with Fentanyl, and serve with a side of Capitalist Running Dog.\" \u21a9</p> </li> </ol>"},{"location":"blog/deepseek/full_reasoning/","title":"The full reasoning behind the answer","text":"<p>Alright, so I need to find the shortest path from node x to node s in this graph. Let me start by understanding how the graph is structured based on the given information.</p> <p>First, let's list out all the nodes and their connections:</p> <ul> <li>s: connected to a</li> <li>a: connected to s, b, h</li> <li>b: connected to a, c, f</li> <li>c: connected to b, d, e</li> <li>d: only connected to c</li> <li>e: only connected to c</li> <li>f: connected to b, h, q</li> <li>g: connected to f (but wait, g is only connected to f? Hmm)</li> <li>h: connected to a, i, q</li> <li>i: connected to h, j, k</li> <li>j: connected to i</li> <li>k: connected to i, l</li> <li>l: connected to k, m, n, o</li> <li>m: connected to l</li> <li>n: connected to l, o, q</li> <li>o: connected to l, n</li> <li>p: connected to q, x</li> <li>q: connected to f, h, n, p</li> <li>x: connected to p</li> </ul> <p>Okay, so we have a graph with nodes s, a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, x.</p> <p>Wait, hold on. The node 'g' is only connected to 'f', but in the given data, it's written as \"g: f\". So that means from g, you can go to f, right? But in our problem, we're going from x to s, so maybe 'g' isn't directly involved unless we need to take a longer path. Let me note that for later.</p> <p>Our goal is to find the shortest path from x to s. So let's think about how to approach this.</p> <p>I know that one of the standard algorithms for finding the shortest path in an unweighted graph is Breadth-First Search (BFS). Since all edges are considered equal weight, BFS should work here.</p> <p>So, to perform BFS:</p> <ol> <li>Start from node x.</li> <li>Explore all nodes adjacent to x.</li> <li>Then explore all nodes adjacent to those nodes, and so on, until we find s.</li> <li>Keep track of the path taken to reach each node to reconstruct the shortest path once we hit s.</li> </ol> <p>Let me try to visualize or perhaps sketch out the connections:</p> <p>Starting from x: x is connected only to p (x -&gt; p).</p> <p>From p: p is connected to q and x. Since we came from x, next would be q.</p> <p>From q: connected to f, h, n, p. So from q, we can go to f, h, or n.</p> <p>Let me map this out step by step:</p> <ol> <li>Start at x (level 0).</li> <li>Level 1: p.</li> <li>From p, level 2: q.</li> <li>From q, level 3: f, h, n.</li> <li>From each of these:</li> <li>From f: connected to b, h, q. But h and q have already been visited; so go to b (level 4).</li> <li>From h: connected to a, i, q. a is closer to s; let's see where that leads (level 4). Also, from h you can go to i.</li> <li>From n: connected to l, o, q. So go to l and o (level 4).</li> </ol> <p>Wait, so in level 3, we have f, h, n.</p> <p>Let me note the steps more clearly:</p> <p>Level 0: - x</p> <p>Level 1: - p</p> <p>Level 2: - q</p> <p>Level 3: - f, h, n</p> <p>Now, processing each node at level 3.</p> <p>Starting with f: From f: connected to b, h, q. - b hasn't been visited yet. So mark b as level 4. - h is already in level 3; don't need to revisit.</p> <p>Processing h next (since from x-&gt;p-&gt;q-&gt;h): From h: connected to a, i, q. - a is new; so mark a as level 4. - i is also new; mark i as level 4.</p> <p>Then processing n: From n: connected to l, o, q. - l and o haven't been visited yet. So mark l and o as level 4.</p> <p>So now at level 4, we have b, a, i, l, o.</p> <p>Wait, but a is directly connected to s! Because looking back at the nodes:</p> <p>s: a</p> <p>So from a, you can go to s. Since we're trying to reach s, once we get to a, that's one step away.</p> <p>But let me confirm if 'a' is in level 4 or not.</p> <p>Wait, our BFS levels are as follows:</p> <p>Level 0: x</p> <p>Level 1: p</p> <p>Level 2: q</p> <p>Level 3: f, h, n</p> <p>Level 4: From f: b; from h: a, i; from n: l, o. So level 4 is b, a, i, l, o.</p> <p>So a is in level 4, but s is connected to a. Therefore, once we reach a at level 4, the next step would be s at level 5.</p> <p>But wait, perhaps there's a shorter path? Let me check all possibilities because sometimes BFS can have multiple paths.</p> <p>Alternatively, let me see if from h (level 3), going to i, then from i: j and k. From k: l and so on, but that might take longer.</p> <p>From b (level 4): connected to a, c, f. So a is reachable here as well.</p> <p>So whether you go through h to a or through b to a, it's the same distance.</p> <p>Therefore, s can be reached from a at level 5.</p> <p>Wait, let me re-examine the levels:</p> <p>From x (0) -&gt; p (1) -&gt; q (2)</p> <p>From q: f (3), h (3), n (3)</p> <p>From f: b (4); From h: a (4), i (4); From n: l (4), o (4)</p> <p>So from level 4, nodes are a, b, i, l, o.</p> <p>At this point, s is connected to a. So once we process a at level 4, the next step would be s at level 5.</p> <p>Is there any shorter path? Let me think if I can reach s in fewer steps.</p> <p>Looking back:</p> <p>From x: p (1) p connects to q (2) q connects to f, h, n (3)</p> <p>From f: b (4); From h: a, i (4); From n: l, o (4)</p> <p>Is there any other connection from level 2 or 3 that can reach s without going through a? Let me see.</p> <p>s is only connected to a. So the only way to get to s is via a. Therefore, the earliest we can reach a is at level 4, so s must be at level 5.</p> <p>But wait, let's check if there are alternative routes from q (level 2). From q: f, h, n.</p> <p>From f (3): b (4); then b connects to a (so that would take another step: 5)</p> <p>From h (3): directly to a (which is level 4), so s is at level 5.</p> <p>Alternatively, from h: go to i (4). Then i can go to j or k. But j and k are further away. So going through h seems the shortest path via h-&gt;a-&gt;s.</p> <p>But perhaps another path? Let's see:</p> <p>x -&gt; p -&gt; q -&gt; n -&gt; l -&gt; ... but that leads to m, which doesn't connect back. Alternatively, x-&gt;p-&gt;q-&gt;h-&gt;i-&gt;k-&gt;l... Not useful for getting to s.</p> <p>Alternatively, x-&gt;p-&gt;q-&gt;f-&gt;b-&gt;a-&gt;s: Let's count the steps:</p> <p>x (0) -&gt; p (1) -&gt; q (2) -&gt; f (3) -&gt; b (4) -&gt; a (5) -&gt; s (6)</p> <p>Wait, but earlier I thought it was level 5 for s. Hmm.</p> <p>Wait no, maybe my levels are off because each edge is one step, so the number of edges determines the length.</p> <p>But in BFS, the distance from x to s would be the number of edges traversed.</p> <p>So starting at x (distance 0).</p> <p>p: 1</p> <p>q:2</p> <p>f,h,n:3</p> <p>From f: b:4; h: a,i:4; n: l,o:4</p> <p>Then from a: s:5. So total distance is 5 steps.</p> <p>But let me check another path:</p> <p>x -&gt; p -&gt; q -&gt; h -&gt;a -&gt;s: that's x(0)-p(1)-q(2)-h(3)-a(4)-s(5). Also, same length.</p> <p>Alternatively, any other paths?</p> <p>Let's see if going from q-&gt;n-&gt;l... but l connects to m,n,o, which don't connect back. Similarly, o is connected to n and l; still no connection towards s.</p> <p>Similarly, i connects to j and k, then to l. So that seems longer.</p> <p>Therefore, both paths through f-&gt;b and h lead to a in 4 steps, but from a you need one more step to s. Therefore, the shortest path is of length 5 edges.</p> <p>But wait, let me recount:</p> <p>x -&gt; p:1</p> <p>p -&gt; q:2</p> <p>q -&gt; h:3</p> <p>h -&gt;a:4</p> <p>a -&gt;s:5</p> <p>So that's 5 steps.</p> <p>Alternatively, x-&gt;p-&gt;q-&gt;f-&gt;b-&gt;a-&gt;s: also 6 steps? Wait no.</p> <p>Wait, in BFS each level is one step. So from x (level0), p(level1); q(level2); f,h,n(level3); b,a,i,l,o(level4); s(level5). Therefore, the path length from x to s is 5 edges.</p> <p>Therefore, the shortest path has 6 nodes: x,p,q,h,a,s</p> <p>Wait, but that's 5 steps or 6 nodes? Wait, in terms of number of nodes visited, it would be 6: x,p,q,h,a,s. But when we talk about the shortest path length, it's usually the number of edges traversed, which is 5.</p> <p>But perhaps depending on how it's defined, sometimes people count the number of nodes. Let me check:</p> <p>s is at level5 if counting steps from x. So to get s, you traverse 5 edges: x-p, p-q, q-h, h-a, a-s.</p> <p>So yes, that would be 5 edges, so length 5.</p> <p>Is there any shorter path? For example, x-&gt;p-&gt;q-&gt;f-&gt;b-&gt;a-&gt;s is longer because it's 6 steps. So no, the shortest path is indeed through x-p-q-h-a-s with 5 edges.</p> <p>Alternatively, if we take x-p-q-n-o-l-k-i-j... No, that leads away from s.</p> <p>So yes, I think the shortest path is x -&gt; p -&gt; q -&gt; h -&gt; a -&gt; s.</p> <p>Therefore, in terms of nodes: [x,p,q,h,a,s], which is 5 edges or 6 nodes.</p> <p>Wait, let me confirm once more:</p> <p>Start at x (distance 0).</p> <p>p is distance1.</p> <p>q is distance2.</p> <p>From q, f,h,n are distance3.</p> <p>From h, a and i are distance4.</p> <p>a connects to s, so s is distance5.</p> <p>Therefore, the shortest path from x to s is of length5, going through p,q,h,a,s.</p> <p>Alternatively, could we get to a via b? Let's see:</p> <p>x-&gt;p(1)-&gt;q(2)-&gt;f(3)-&gt;b(4)-&gt;a(5)-&gt;s(6). That would make it longer. So yes, the path through h is shorter.</p> <p>Therefore, the shortest path is x-p-q-h-a-s with 5 edges.</p>"},{"location":"blog/deepseek/unpossible/","title":"Unpossible","text":""},{"location":"blog/deepseek/unpossible/#shortest-path-from-f-to-g","title":"Shortest path from \"f\" to \"g\"","text":"<p>Building on the context from the initial query, I tried asking \"what is the shortest path from f to g?\". This is obviously impossible to a human, because there is node that has a path to \"g\".</p> <p></p> <p>After 16 minutes and 11 seconds of hardcore cogitation, I got a response with all the hallmarks of LLM \"abominable intelligence\": confidently wrong.</p> <p>This might be because the directed nature of the graph is only implicit in my question, but on the other hand, it grasped earlier that node \"g\" was unreachable from \"f\" in the first question.</p> Thinking? <p>Okay, so I need to find the shortest path from node f to node g in this graph. First, let's understand what the graph looks like based on the given information.</p> <p>We have nodes represented by letters, and each node is connected to others as follows:</p> <ul> <li>s: a</li> <li>a: s,b,h</li> <li>b: a,c,f</li> <li>c: b,d,e</li> <li>d: c</li> <li>e: c</li> <li>f: b,h,q</li> <li>g: f</li> <li>h: a,i,q</li> <li>i: h,j,k</li> <li>j: i</li> <li>k: i,l</li> <li>l: k,m,n,o</li> <li>m: l</li> <li>n: l,o,q</li> <li>o: l,n</li> <li>p: q,x</li> <li>q: f,h,n,p</li> <li>x: p</li> </ul> <p>Alright, so starting from node f, I need to reach node g. Let's see the connections:</p> <p>From f, it connects to b and h and q.</p> <p>First, let's explore all possible paths step by step.</p> <ol> <li>Starting at f, immediate neighbors are b, h, and q.</li> <li>From b: It connects back to a, c, and f (but we came from f, so we don't go back). Also, c is connected to d and e,    but those might not lead us directly to g.</li> <li>From h: It's connected to a, i, and q. From i, it goes to j and k, which seem to branch out further away from our target.</li> <li>From q: It connects back to f, h, n, and p (we came from f or h, so p might be an interesting path).</li> </ol> <p>Wait a second, node g is connected only to f. So if we look at the connections for g, it's only linked directly to f.</p> <p>That means the shortest path from f to g would just be one step: from f directly to g. But according to the initial graph description, does f connect to g?</p> <p>Looking back:</p> <ul> <li>f: b,h,q</li> </ul> <p>No, f is connected to b, h, and q, but not directly to g. So that means there's no direct path from f to g.</p> <p>Hmm, maybe I made a mistake earlier. Let me check again.</p> <p>Wait, node g is defined as:</p> <ul> <li>g: f</li> </ul> <p>So, in the graph description, it says \"g: f\", meaning g is connected only to f. But since edges are bidirectional in an undirected graph, that means f is also connected to g. However, in the initial list under \"f:\", it's listed as \"b,h,q\". There\u2019s no mention of g being connected to f.</p> <p>This is a bit confusing. Maybe there's a typo or misinterpretation.</p> <p>Assuming that if node g is connected only to f, then f should also be connected to g. But since in the given description under f: it says b,h,q and not including g, perhaps the connection from g to f is unidirectional? Or maybe it's an undirected graph, so f should be connected to g.</p> <p>But according to standard graph definitions, if g is connected to f, then f should also be connected back to g unless specified otherwise. Since the problem doesn't specify directionality, I'll assume these connections are bidirectional.</p> <p>So even though under \"f:\" it's not mentioned, logically, since g: f implies that f is connected to g.</p> <p>Therefore, from f, besides b, h, and q, there's also a connection to g.</p> <p>Given that, the shortest path would be f -&gt; g in one step.</p> <p>But wait, initially, I thought f didn't connect directly to g because it wasn't listed under \"f:\". Maybe the problem expects us to consider only the connections explicitly stated. If we strictly follow what's given:</p> <ul> <li>f: b,h,q</li> </ul> <p>So f is connected only to b, h, and q. Node g is connected only to f.</p> <p>But in an undirected graph, if g is connected to f, then f should also be connected to g. So there might be a disconnect here in the problem statement.</p> <p>To resolve this confusion, perhaps it's best to assume that connections are bidirectional unless specified otherwise. Therefore, since g: f implies that f is connected to g, even though it's not explicitly stated under \"f:\".</p> <p>So with that assumption, from f, we can go directly to g in one step.</p> <p>But wait again, the problem asks for the shortest path from f to g, and if they are directly connected, it should be a single step. However, based on the given connections:</p> <ul> <li>f: b,h,q</li> <li>g: f</li> </ul> <p>So perhaps in this context, since under \"f:\" there is no direct mention of g, but under \"g:\", f is mentioned. Depending on whether we're considering directed or undirected graphs.</p> <p>If it's a directed graph:</p> <ul> <li>If edges are directed from the node to its listed neighbors, then f can go to b, h, q, but cannot go directly to g   unless explicitly stated.</li> <li>Since in \"f:\", g is not listed, and only in \"g:\" does it mention connecting back to f, that implies a one-way   connection: f points to b,h,q, while g points to f.</li> </ul> <p>In that case, from f, there's no direct path to g because f doesn't have a directed edge to g. Only g has an edge pointing back to f.</p> <p>Therefore, in this scenario, we would need to find another way from f to g.</p> <p>Given that, let's re-examine the possible paths:</p> <p>From f: b, h, q</p> <p>From each of those:</p> <ul> <li>From b: a,c</li> <li>From h: a,i,q</li> <li>From q: f,h,n,p</li> </ul> <p>Looking deeper:</p> <ul> <li>From a: s,b,h</li> <li>From c: b,d,e</li> <li>From i: h,j,k</li> <li>From n: l,o,q</li> <li>From p: q,x</li> <li>From j: i</li> <li>From k: i,l</li> <li>From d: c</li> <li>From e: c</li> <li>From o: l,n</li> </ul> <p>This is getting quite complex. Is there a path from f to g through these connections?</p> <p>Wait, node g is only connected to f. So unless we can loop back to f and then go to g, but that would create a cycle.</p> <p>But in terms of shortest path, cycles are not helpful because they just add unnecessary steps.</p> <p>Given the confusion about whether it's directed or undirected, perhaps the safest assumption based on standard graph problems is that it's an undirected graph unless specified otherwise.</p> <p>In that case, f should have a direct connection to g, as g has a connection to f.</p> <p>Therefore, in that interpretation, the shortest path from f to g would simply be f -&gt; g in one step.</p> <p>However, if we strictly follow only the connections listed under each node:</p> <ul> <li>f: b,h,q</li> <li>g: f</li> </ul> <p>Then, in terms of directed edges:</p> <ul> <li>To go from f to g directly, it's not possible because f doesn't have an outgoing edge to g.</li> <li>However, to go from g back to f is possible.</li> </ul> <p>Therefore, if we're considering directed paths and only moving along the directions specified, there might be no path from f to g, or perhaps a longer one.</p> <p>But this seems contradictory.</p> <p>Alternatively, in undirected graphs, edges are bidirectional. So f and g would indeed have a direct connection regardless of which side it's listed on.</p> <p>Given that ambiguity, I think the safest assumption is that the graph is undirected, so even if only mentioned under g: f, f is also connected to g.</p> <p>Therefore, the shortest path from f to g is simply f -&gt; g in one step.</p>"},{"location":"blog/deepseek/unpossible/#answer","title":"Answer","text":"<p>The shortest path from node ( f ) to node ( g ) can be determined by considering the connections provided. </p> <p>Given: - ( f: b, h, q ) - ( g: f )</p> <p>Assuming the graph is undirected (meaning if ( g ) is connected to ( f ), then ( f ) is also connected to ( g )), the shortest path from ( f ) to ( g ) would be directly connecting them.</p> <p>Therefore, the shortest path from ( f ) to ( g ) is:</p> <p><code>[f, g]</code></p>"},{"location":"pw/","title":"TODO","text":""},{"location":"pw/privacy/","title":"TODO","text":""},{"location":"pw/tos/","title":"End-User License Agreement (\"Agreement\")","text":"<p>Last updated: February 16, 2025</p> <p>Please read this End-User License Agreement carefully before clicking the \"I Agree\" button, downloading or using Password Wallet.</p>"},{"location":"pw/tos/#interpretation-and-definitions","title":"Interpretation and Definitions","text":""},{"location":"pw/tos/#interpretation","title":"Interpretation","text":"<p>The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural.</p>"},{"location":"pw/tos/#definitions","title":"Definitions","text":"<p>For the purposes of this End-User License Agreement:</p> <ul> <li> <p>Agreement means this End-User License Agreement that forms the entire agreement between You and the Company regarding the use of the Application. This Agreement has been created with the help of the EULA Generator.</p> </li> <li> <p>Application means the software program provided by the Company downloaded by You to a Device, named Password Wallet</p> </li> <li> <p>Company (referred to as either \"the Company\", \"We\", \"Us\" or \"Our\" in this Agreement) refers to Password Wallet.</p> </li> <li> <p>Content refers to content such as text, images, or other information that can be posted, uploaded, linked to or otherwise made available by You, regardless of the form of that content.</p> </li> <li> <p>Country refers to: Denmark</p> </li> <li> <p>Device means any device that can access the Application such as a computer, a cellphone or a digital tablet.</p> </li> <li> <p>Third-Party Services means any services or content (including data, information, applications and other products services) provided by a third-party that may be displayed, included or made available by the Application.</p> </li> <li> <p>You means the individual accessing or using the Application or the company, or other legal entity on behalf of which such individual is accessing or using the Application, as applicable.</p> </li> </ul>"},{"location":"pw/tos/#acknowledgment","title":"Acknowledgment","text":"<p>By clicking the \"I Agree\" button, downloading or using the Application, You are agreeing to be bound by the terms and conditions of this Agreement. If You do not agree to the terms of this Agreement, do not click on the \"I Agree\" button, do not download or do not use the Application.</p> <p>This Agreement is a legal document between You and the Company and it governs your use of the Application made available to You by the Company.</p> <p>The Application is licensed, not sold, to You by the Company for use strictly in accordance with the terms of this Agreement.</p>"},{"location":"pw/tos/#license","title":"License","text":""},{"location":"pw/tos/#scope-of-license","title":"Scope of License","text":"<p>The Company grants You a revocable, non-exclusive, non-transferable, limited license to download, install and use the Application strictly in accordance with the terms of this Agreement.</p> <p>The license that is granted to You by the Company is solely for your personal, non-commercial purposes strictly in accordance with the terms of this Agreement.</p>"},{"location":"pw/tos/#third-party-services","title":"Third-Party Services","text":"<p>The Application may display, include or make available third-party content (including data, information, applications and other products services) or provide links to third-party websites or services.</p> <p>You acknowledge and agree that the Company shall not be responsible for any Third-party Services, including their accuracy, completeness, timeliness, validity, copyright compliance, legality, decency, quality or any other aspect thereof. The Company does not assume and shall not have any liability or responsibility to You or any other person or entity for any Third-party Services.</p> <p>You must comply with applicable Third parties' Terms of agreement when using the Application. Third-party Services and links thereto are provided solely as a convenience to You and You access and use them entirely at your own risk and subject to such third parties' Terms and conditions.</p>"},{"location":"pw/tos/#term-and-termination","title":"Term and Termination","text":"<p>This Agreement shall remain in effect until terminated by You or the Company. The Company may, in its sole discretion, at any time and for any or no reason, suspend or terminate this Agreement with or without prior notice.</p> <p>This Agreement will terminate immediately, without prior notice from the Company, in the event that you fail to comply with any provision of this Agreement. You may also terminate this Agreement by deleting the Application and all copies thereof from your Device or from your computer.</p> <p>Upon termination of this Agreement, You shall cease all use of the Application and delete all copies of the Application from your Device.</p> <p>Termination of this Agreement will not limit any of the Company's rights or remedies at law or in equity in case of breach by You (during the term of this Agreement) of any of your obligations under the present Agreement.</p>"},{"location":"pw/tos/#indemnification","title":"Indemnification","text":"<p>You agree to indemnify and hold the Company and its parents, subsidiaries, affiliates, officers, employees, agents, partners and licensors (if any) harmless from any claim or demand, including reasonable attorneys' fees, due to or arising out of your: (a) use of the Application; (b) violation of this Agreement or any law or regulation; or (c) violation of any right of a third party.</p>"},{"location":"pw/tos/#no-warranties","title":"No Warranties","text":"<p>The Application is provided to You \"AS IS\" and \"AS AVAILABLE\" and with all faults and defects without warranty of any kind. To the maximum extent permitted under applicable law, the Company, on its own behalf and on behalf of its affiliates and its and their respective licensors and service providers, expressly disclaims all warranties, whether express, implied, statutory or otherwise, with respect to the Application, including all implied warranties of merchantability, fitness for a particular purpose, title and non-infringement, and warranties that may arise out of course of dealing, course of performance, usage or trade practice. Without limitation to the foregoing, the Company provides no warranty or undertaking, and makes no representation of any kind that the Application will meet your requirements, achieve any intended results, be compatible or work with any other software, applications, systems or services, operate without interruption, meet any performance or reliability standards or be error free or that any errors or defects can or will be corrected.</p> <p>Without limiting the foregoing, neither the Company nor any of the company's provider makes any representation or warranty of any kind, express or implied: (i) as to the operation or availability of the Application, or the information, content, and materials or products included thereon; (ii) that the Application will be uninterrupted or error-free; (iii) as to the accuracy, reliability, or currency of any information or content provided through the Application; or (iv) that the Application, its servers, the content, or e-mails sent from or on behalf of the Company are free of viruses, scripts, trojan horses, worms, malware, timebombs or other harmful components.</p> <p>Some jurisdictions do not allow the exclusion of certain types of warranties or limitations on applicable statutory rights of a consumer, so some or all of the above exclusions and limitations may not apply to You. But in such a case the exclusions and limitations set forth in this section shall be applied to the greatest extent enforceable under applicable law. To the extent any warranty exists under law that cannot be disclaimed, the Company shall be solely responsible for such warranty.</p>"},{"location":"pw/tos/#limitation-of-liability","title":"Limitation of Liability","text":"<p>Notwithstanding any damages that You might incur, the entire liability of the Company and any of its suppliers under any provision of this Agreement and your exclusive remedy for all of the foregoing shall be limited to the amount actually paid by You for the Application or through the Application or 100 USD if You haven't purchased anything through the Application.</p> <p>To the maximum extent permitted by applicable law, in no event shall the Company or its suppliers be liable for any special, incidental, indirect, or consequential damages whatsoever (including, but not limited to, damages for loss of profits, loss of data or other information, for business interruption, for personal injury, loss of privacy arising out of or in any way related to the use of or inability to use the Application, third-party software and/or third-party hardware used with the Application, or otherwise in connection with any provision of this Agreement), even if the Company or any supplier has been advised of the possibility of such damages and even if the remedy fails of its essential purpose.</p> <p>Some states/jurisdictions do not allow the exclusion or limitation of incidental or consequential damages, so the above limitation or exclusion may not apply to You.</p>"},{"location":"pw/tos/#severability-and-waiver","title":"Severability and Waiver","text":""},{"location":"pw/tos/#severability","title":"Severability","text":"<p>If any provision of this Agreement is held to be unenforceable or invalid, such provision will be changed and interpreted to accomplish the objectives of such provision to the greatest extent possible under applicable law and the remaining provisions will continue in full force and effect.</p>"},{"location":"pw/tos/#waiver","title":"Waiver","text":"<p>Except as provided herein, the failure to exercise a right or to require performance of an obligation under this Agreement shall not affect a party's ability to exercise such right or require such performance at any time thereafter nor shall the waiver of a breach constitute a waiver of any subsequent breach.</p>"},{"location":"pw/tos/#product-claims","title":"Product Claims","text":"<p>The Company does not make any warranties concerning the Application.</p>"},{"location":"pw/tos/#united-states-legal-compliance","title":"United States Legal Compliance","text":"<p>You represent and warrant that (i) You are not located in a country that is subject to the United States government embargo, or that has been designated by the United States government as a \"terrorist supporting\" country, and (ii) You are not listed on any United States government list of prohibited or restricted parties.</p>"},{"location":"pw/tos/#changes-to-this-agreement","title":"Changes to this Agreement","text":"<p>The Company reserves the right, at its sole discretion, to modify or replace this Agreement at any time. If a revision is material we will provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at the sole discretion of the Company.</p> <p>By continuing to access or use the Application after any revisions become effective, You agree to be bound by the revised terms. If You do not agree to the new terms, You are no longer authorized to use the Application.</p>"},{"location":"pw/tos/#governing-law","title":"Governing Law","text":"<p>The laws of the Country, excluding its conflicts of law rules, shall govern this Agreement and your use of the Application. Your use of the Application may also be subject to other local, state, national, or international laws.</p>"},{"location":"pw/tos/#entire-agreement","title":"Entire Agreement","text":"<p>The Agreement constitutes the entire agreement between You and the Company regarding your use of the Application and supersedes all prior and contemporaneous written or oral agreements between You and the Company.</p> <p>You may be subject to additional terms and conditions that apply when You use or purchase other Company's services, which the Company will provide to You at the time of such use or purchase.</p>"},{"location":"pw/tos/#contact-us","title":"Contact Us","text":"<p>If you have any questions about this Agreement, You can contact Us:</p> <ul> <li>By visiting this page on our website: https://www.swissarmyronin.dk/pw/tos</li> </ul>"}]}